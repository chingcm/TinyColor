<!DOCTYPE html>

<html>
<head>
  <title>tinycolor.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="tinycolor.html">
                  tinycolor.js
                </a>
              
                
                <a class="source" href="tinycolor.plugin.html">
                  tinycolor.plugin.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>tinycolor.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>TinyColor v2.0.1
<a href="https://github.com/chingcm/TinyColor">https://github.com/chingcm/TinyColor</a>
Dem Ching, MIT License</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Original from TinyColor v1.4.1
<a href="https://github.com/bgrins/TinyColor">https://github.com/bgrins/TinyColor</a>
Brian Grinstead, MIT License</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Math</span>) </span>{

<span class="hljs-keyword">var</span> trimLeft = <span class="hljs-regexp">/^\s+/</span>,
    trimRight = <span class="hljs-regexp">/\s+$/</span>,
    tinyCounter = <span class="hljs-number">0</span>,
    mathRound = <span class="hljs-built_in">Math</span>.round,
    mathMin = <span class="hljs-built_in">Math</span>.min,
    mathMax = <span class="hljs-built_in">Math</span>.max,
    mathRandom = <span class="hljs-built_in">Math</span>.random;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tinycolor</span> (<span class="hljs-params">color, opts</span>) </span>{

    color = (color) ? color : <span class="hljs-string">''</span>;
    opts = opts || { };</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>If input is already a tinycolor, return itself</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (color <span class="hljs-keyword">instanceof</span> tinycolor) {
       <span class="hljs-keyword">return</span> color;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>If we are called as a function, call using new instead</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> tinycolor)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> tinycolor(color, opts);
    }

    <span class="hljs-keyword">var</span> rgb = inputToRGB(color);
    <span class="hljs-keyword">this</span>._originalInput = color;
    <span class="hljs-keyword">this</span>._r = rgb.r;
    <span class="hljs-keyword">this</span>._g = rgb.g;
    <span class="hljs-keyword">this</span>._b = rgb.b;
    <span class="hljs-keyword">this</span>._a = rgb.a;
    <span class="hljs-keyword">this</span>._roundA = mathRound(<span class="hljs-number">100</span>*<span class="hljs-keyword">this</span>._a) / <span class="hljs-number">100</span>;
    <span class="hljs-keyword">this</span>._format = opts.format || rgb.format;
    <span class="hljs-keyword">this</span>._gradientType = opts.gradientType;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Don’t let the range of [0,255] come back in [0,1].
Potentially lose a little bit of precision here, but will fix issues where
.5 gets interpreted as half of the total, instead of half of 1
If it was supposed to be 128, this was already taken care of by <code>inputToRgb</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._r &lt; <span class="hljs-number">1</span>) { <span class="hljs-keyword">this</span>._r = mathRound(<span class="hljs-keyword">this</span>._r); }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._g &lt; <span class="hljs-number">1</span>) { <span class="hljs-keyword">this</span>._g = mathRound(<span class="hljs-keyword">this</span>._g); }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._b &lt; <span class="hljs-number">1</span>) { <span class="hljs-keyword">this</span>._b = mathRound(<span class="hljs-keyword">this</span>._b); }

    <span class="hljs-keyword">this</span>._ok = rgb.ok;
    <span class="hljs-keyword">this</span>._tc_id = tinyCounter++;
}

tinycolor.prototype = {
    <span class="hljs-attr">isDark</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBrightness() &lt; <span class="hljs-number">128</span>;
    },
    <span class="hljs-attr">isLight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !<span class="hljs-keyword">this</span>.isDark();
    },
    <span class="hljs-attr">isValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._ok;
    },
    <span class="hljs-attr">getOriginalInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._originalInput;
    },
    <span class="hljs-attr">getFormat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._format;
    },
    <span class="hljs-attr">getAlpha</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._a;
    },
    <span class="hljs-attr">getBrightness</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><a href="http://www.w3.org/TR/AERT#color-contrast">http://www.w3.org/TR/AERT#color-contrast</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> rgb = <span class="hljs-keyword">this</span>.toRgb();
        <span class="hljs-keyword">return</span> (rgb.r * <span class="hljs-number">299</span> + rgb.g * <span class="hljs-number">587</span> + rgb.b * <span class="hljs-number">114</span>) / <span class="hljs-number">1000</span>;
    },
    <span class="hljs-attr">getLuminance</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef">http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> rgb = <span class="hljs-keyword">this</span>.toRgb();
        <span class="hljs-keyword">var</span> RsRGB, GsRGB, BsRGB, R, G, B;
        RsRGB = rgb.r/<span class="hljs-number">255</span>;
        GsRGB = rgb.g/<span class="hljs-number">255</span>;
        BsRGB = rgb.b/<span class="hljs-number">255</span>;

        <span class="hljs-keyword">if</span> (RsRGB &lt;= <span class="hljs-number">0.03928</span>) {R = RsRGB / <span class="hljs-number">12.92</span>;} <span class="hljs-keyword">else</span> {R = <span class="hljs-built_in">Math</span>.pow(((RsRGB + <span class="hljs-number">0.055</span>) / <span class="hljs-number">1.055</span>), <span class="hljs-number">2.4</span>);}
        <span class="hljs-keyword">if</span> (GsRGB &lt;= <span class="hljs-number">0.03928</span>) {G = GsRGB / <span class="hljs-number">12.92</span>;} <span class="hljs-keyword">else</span> {G = <span class="hljs-built_in">Math</span>.pow(((GsRGB + <span class="hljs-number">0.055</span>) / <span class="hljs-number">1.055</span>), <span class="hljs-number">2.4</span>);}
        <span class="hljs-keyword">if</span> (BsRGB &lt;= <span class="hljs-number">0.03928</span>) {B = BsRGB / <span class="hljs-number">12.92</span>;} <span class="hljs-keyword">else</span> {B = <span class="hljs-built_in">Math</span>.pow(((BsRGB + <span class="hljs-number">0.055</span>) / <span class="hljs-number">1.055</span>), <span class="hljs-number">2.4</span>);}
        <span class="hljs-keyword">return</span> (<span class="hljs-number">0.2126</span> * R) + (<span class="hljs-number">0.7152</span> * G) + (<span class="hljs-number">0.0722</span> * B);
    },
    <span class="hljs-attr">setAlpha</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>._a = boundAlpha(value);
        <span class="hljs-keyword">this</span>._roundA = mathRound(<span class="hljs-number">100</span>*<span class="hljs-keyword">this</span>._a) / <span class="hljs-number">100</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">toHsv</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hsv = rgbToHsv(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: hsv.h * <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsv.s, <span class="hljs-attr">v</span>: hsv.v, <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toHsvString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hsv = rgbToHsv(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">var</span> h = mathRound(hsv.h * <span class="hljs-number">360</span>), s = mathRound(hsv.s * <span class="hljs-number">100</span>), v = mathRound(hsv.v * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
          <span class="hljs-string">"hsv("</span>  + h + <span class="hljs-string">", "</span> + s + <span class="hljs-string">"%, "</span> + v + <span class="hljs-string">"%)"</span> :
          <span class="hljs-string">"hsva("</span> + h + <span class="hljs-string">", "</span> + s + <span class="hljs-string">"%, "</span> + v + <span class="hljs-string">"%, "</span>+ <span class="hljs-keyword">this</span>._roundA + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toHsl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hsl = rgbToHsl(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: hsl.h * <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l, <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toHslString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hsl = rgbToHsl(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">var</span> h = mathRound(hsl.h * <span class="hljs-number">360</span>), s = mathRound(hsl.s * <span class="hljs-number">100</span>), l = mathRound(hsl.l * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
          <span class="hljs-string">"hsl("</span>  + h + <span class="hljs-string">", "</span> + s + <span class="hljs-string">"%, "</span> + l + <span class="hljs-string">"%)"</span> :
          <span class="hljs-string">"hsla("</span> + h + <span class="hljs-string">", "</span> + s + <span class="hljs-string">"%, "</span> + l + <span class="hljs-string">"%, "</span>+ <span class="hljs-keyword">this</span>._roundA + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toHex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">allow3Char</span>) </span>{
        <span class="hljs-keyword">return</span> rgbToHex(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b, allow3Char);
    },
    <span class="hljs-attr">toHexString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">allow3Char</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'#'</span> + <span class="hljs-keyword">this</span>.toHex(allow3Char);
    },
    <span class="hljs-attr">toHex8</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">allow4Char</span>) </span>{
        <span class="hljs-keyword">return</span> rgbaToHex(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b, <span class="hljs-keyword">this</span>._a, allow4Char);
    },
    <span class="hljs-attr">toHex8String</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">allow4Char</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'#'</span> + <span class="hljs-keyword">this</span>.toHex8(allow4Char);
    },
    <span class="hljs-attr">toRgb</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: mathRound(<span class="hljs-keyword">this</span>._r), <span class="hljs-attr">g</span>: mathRound(<span class="hljs-keyword">this</span>._g), <span class="hljs-attr">b</span>: mathRound(<span class="hljs-keyword">this</span>._b), <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toRgbString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
          <span class="hljs-string">"rgb("</span>  + mathRound(<span class="hljs-keyword">this</span>._r) + <span class="hljs-string">", "</span> + mathRound(<span class="hljs-keyword">this</span>._g) + <span class="hljs-string">", "</span> + mathRound(<span class="hljs-keyword">this</span>._b) + <span class="hljs-string">")"</span> :
          <span class="hljs-string">"rgba("</span> + mathRound(<span class="hljs-keyword">this</span>._r) + <span class="hljs-string">", "</span> + mathRound(<span class="hljs-keyword">this</span>._g) + <span class="hljs-string">", "</span> + mathRound(<span class="hljs-keyword">this</span>._b) + <span class="hljs-string">", "</span> + <span class="hljs-keyword">this</span>._roundA + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toPercentageRgb</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: mathRound(bound01(<span class="hljs-keyword">this</span>._r, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%"</span>, <span class="hljs-attr">g</span>: mathRound(bound01(<span class="hljs-keyword">this</span>._g, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%"</span>, <span class="hljs-attr">b</span>: mathRound(bound01(<span class="hljs-keyword">this</span>._b, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%"</span>, <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toPercentageRgbString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
          <span class="hljs-string">"rgb("</span>  + mathRound(bound01(<span class="hljs-keyword">this</span>._r, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%, "</span> + mathRound(bound01(<span class="hljs-keyword">this</span>._g, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%, "</span> + mathRound(bound01(<span class="hljs-keyword">this</span>._b, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%)"</span> :
          <span class="hljs-string">"rgba("</span> + mathRound(bound01(<span class="hljs-keyword">this</span>._r, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%, "</span> + mathRound(bound01(<span class="hljs-keyword">this</span>._g, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%, "</span> + mathRound(bound01(<span class="hljs-keyword">this</span>._b, <span class="hljs-number">255</span>) * <span class="hljs-number">100</span>) + <span class="hljs-string">"%, "</span> + <span class="hljs-keyword">this</span>._roundA + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toCmy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cmy = rgbToCmy(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: cmy.c * <span class="hljs-number">100</span>, <span class="hljs-attr">m</span>: cmy.m * <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: cmy.y * <span class="hljs-number">100</span> };
    },
    <span class="hljs-attr">toCmyString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cmy = rgbToCmy(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b),
            c = mathRound(cmy.c * <span class="hljs-number">100</span>), m = mathRound(cmy.m * <span class="hljs-number">100</span>), y = mathRound(cmy.y * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"cmy("</span>  + c + <span class="hljs-string">"%, "</span> + m + <span class="hljs-string">"%, "</span> + y + <span class="hljs-string">"%)"</span>;
    },
    <span class="hljs-attr">toCmyk</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cmyk = rgbToCmyk(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: cmyk.c * <span class="hljs-number">100</span>, <span class="hljs-attr">m</span>: cmyk.m * <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: cmyk.y * <span class="hljs-number">100</span>, <span class="hljs-attr">k</span>: cmyk.k * <span class="hljs-number">100</span> };
    },
    <span class="hljs-attr">toCmykString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cmyk = rgbToCmyk(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b),
            c = mathRound(cmyk.c * <span class="hljs-number">100</span>), m = mathRound(cmyk.m * <span class="hljs-number">100</span>), y = mathRound(cmyk.y * <span class="hljs-number">100</span>), k = mathRound(cmyk.k * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"cmyk("</span>  + c + <span class="hljs-string">"%, "</span> + m + <span class="hljs-string">"%, "</span> + y + <span class="hljs-string">"%, "</span> + k + <span class="hljs-string">"%)"</span>;
    },
    <span class="hljs-attr">toHwb</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hwb = rgbToHwb(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: hwb.h * <span class="hljs-number">360</span>, <span class="hljs-attr">w</span>: hwb.w, <span class="hljs-attr">b</span>: hwb.b, <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toHwbString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> hwb = rgbToHwb(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">var</span> h = mathRound(hwb.h * <span class="hljs-number">360</span>), w = mathRound(hwb.w * <span class="hljs-number">100</span>), b = mathRound(hwb.b * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
            <span class="hljs-string">"hwb("</span>  + h + <span class="hljs-string">", "</span> + w + <span class="hljs-string">"%, "</span> + b + <span class="hljs-string">"%)"</span> :
            <span class="hljs-string">"hwba("</span> + h + <span class="hljs-string">", "</span> + w + <span class="hljs-string">"%, "</span> + b + <span class="hljs-string">"%, "</span>+ <span class="hljs-keyword">this</span>._roundA + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toNcol</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ncol = rgbToNcol(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">n</span>: ncol.n, <span class="hljs-attr">w</span>: ncol.w, <span class="hljs-attr">b</span>: ncol.b, <span class="hljs-attr">a</span>: <span class="hljs-keyword">this</span>._a };
    },
    <span class="hljs-attr">toNcolString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ncol = rgbToNcol(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">var</span> n = ncol.n, w = mathRound(ncol.w * <span class="hljs-number">100</span>), b = mathRound(ncol.b * <span class="hljs-number">100</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>._a == <span class="hljs-number">1</span>) ?
            n + <span class="hljs-string">", "</span> + w + <span class="hljs-string">"%, "</span> + b + <span class="hljs-string">"%"</span> :
            n + <span class="hljs-string">", "</span> + w + <span class="hljs-string">"%, "</span> + b + <span class="hljs-string">"%, "</span>+ <span class="hljs-keyword">this</span>._roundA;
    },
    <span class="hljs-attr">toNcs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ncs = rgbToNcs(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">s</span>: ncs.s, <span class="hljs-attr">c</span>: ncs.c, <span class="hljs-attr">n</span>: ncs.n.toUpperCase() };
    },
    <span class="hljs-attr">toNcsString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ncs = rgbToNcs(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> ncsToString(ncs.s, ncs.c, ncs.n);
    },
    <span class="hljs-attr">toXyz</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> xyz = rgbToXyz(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: xyz.x * <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: xyz.y * <span class="hljs-number">100</span>, <span class="hljs-attr">z</span>: xyz.z * <span class="hljs-number">100</span> };
    },
    <span class="hljs-attr">toXyzString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> xyz = rgbToXyz(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b),
            x = (xyz.x * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>), y = (xyz.y * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>), z = (xyz.z * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"xyz("</span> + x + <span class="hljs-string">", "</span> + y + <span class="hljs-string">", "</span> + z + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toLab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lab = rgbToLab(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b);
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">l</span>: lab.l, <span class="hljs-attr">a</span>: lab.a, <span class="hljs-attr">b</span>: lab.b };
    },
    <span class="hljs-attr">toLabString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lab = rgbToLab(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b),
            l = lab.l.toFixed(<span class="hljs-number">2</span>), a = lab.a.toFixed(<span class="hljs-number">2</span>), b = lab.b.toFixed(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"lab("</span> + l + <span class="hljs-string">", "</span> + a + <span class="hljs-string">", "</span> + b + <span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._a === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"transparent"</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._a &lt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">return</span> hexNames[rgbToHex(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b, <span class="hljs-literal">true</span>)] || <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">toFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">secondColor</span>) </span>{
        <span class="hljs-keyword">var</span> hex8String = <span class="hljs-string">'#'</span> + rgbaToArgbHex(<span class="hljs-keyword">this</span>._r, <span class="hljs-keyword">this</span>._g, <span class="hljs-keyword">this</span>._b, <span class="hljs-keyword">this</span>._a);
        <span class="hljs-keyword">var</span> secondHex8String = hex8String;
        <span class="hljs-keyword">var</span> gradientType = <span class="hljs-keyword">this</span>._gradientType ? <span class="hljs-string">"GradientType = 1, "</span> : <span class="hljs-string">""</span>;

        <span class="hljs-keyword">if</span> (secondColor) {
            <span class="hljs-keyword">var</span> s = tinycolor(secondColor);
            secondHex8String = <span class="hljs-string">'#'</span> + rgbaToArgbHex(s._r, s._g, s._b, s._a);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-string">"progid:DXImageTransform.Microsoft.gradient("</span>+gradientType+<span class="hljs-string">"startColorstr="</span>+hex8String+<span class="hljs-string">",endColorstr="</span>+secondHex8String+<span class="hljs-string">")"</span>;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">var</span> formatSet = !!format;
        format = format || <span class="hljs-keyword">this</span>._format;

        <span class="hljs-keyword">var</span> formattedString = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> hasAlpha = <span class="hljs-keyword">this</span>._a &lt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>._a &gt;= <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> needsAlphaFormat = !formatSet &amp;&amp; hasAlpha &amp;&amp; (format === <span class="hljs-string">"hex"</span> || format === <span class="hljs-string">"hex6"</span> || format === <span class="hljs-string">"hex3"</span> || format === <span class="hljs-string">"hex4"</span> || format === <span class="hljs-string">"hex8"</span> || format === <span class="hljs-string">"name"</span>);

        <span class="hljs-keyword">if</span> (needsAlphaFormat) {</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Special case for “transparent”, all other non-alpha formats
will return rgba when there is transparency.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"name"</span> &amp;&amp; <span class="hljs-keyword">this</span>._a === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toName();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toRgbString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"rgb"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toRgbString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"prgb"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toPercentageRgbString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hex"</span> || format === <span class="hljs-string">"hex6"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHexString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hex3"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHexString(<span class="hljs-literal">true</span>);
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hex4"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHex8String(<span class="hljs-literal">true</span>);
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hex8"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHex8String();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"name"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toName();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hsl"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHslString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hsv"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHsvString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"hwb"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toHwbString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"ncol"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toNcolString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"ncs"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toNcsString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"cmyk"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toCmykString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"cmy"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toCmyString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"xyz"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toXyzString();
        }
        <span class="hljs-keyword">if</span> (format === <span class="hljs-string">"lab"</span>) {
            formattedString = <span class="hljs-keyword">this</span>.toLabString();
        }

        <span class="hljs-keyword">return</span> formattedString || <span class="hljs-keyword">this</span>.toHexString();
    },
    <span class="hljs-attr">clone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> tinycolor(<span class="hljs-keyword">this</span>.toString());
    },

    <span class="hljs-attr">_applyModification</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn, args</span>) </span>{
        <span class="hljs-keyword">var</span> color = fn.apply(<span class="hljs-literal">null</span>, [<span class="hljs-keyword">this</span>].concat([].slice.call(args)));
        <span class="hljs-keyword">this</span>._r = color._r;
        <span class="hljs-keyword">this</span>._g = color._g;
        <span class="hljs-keyword">this</span>._b = color._b;
        <span class="hljs-keyword">this</span>.setAlpha(color._a);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">lighten</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(lighten, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">brighten</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(brighten, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">darken</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(darken, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">desaturate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(desaturate, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">saturate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(saturate, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">greyscale</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(greyscale, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">spin</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyModification(spin, <span class="hljs-built_in">arguments</span>);
    },

    <span class="hljs-attr">_applyCombination</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn, args</span>) </span>{
        <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-literal">null</span>, [<span class="hljs-keyword">this</span>].concat([].slice.call(args)));
    },
    <span class="hljs-attr">analogous</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(analogous, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">complement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(complement, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">monochromatic</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(monochromatic, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">splitcomplement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(splitcomplement, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">triad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(triad, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">tetrad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(tetrad, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">tetradRect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(tetradRect, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">pentad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(pentad, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">hexad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._applyCombination(hexad, <span class="hljs-built_in">arguments</span>);
    },
    <span class="hljs-attr">distance</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color, relative</span>) </span>{
        <span class="hljs-keyword">var</span> rgb;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color === <span class="hljs-string">"object"</span> &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_r"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_g"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_b"</span>)) {
            rgb = color.toRgb();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color === <span class="hljs-string">"object"</span> &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"r"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"g"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"b"</span>)) {
            rgb = color;
        } <span class="hljs-keyword">else</span> {
            rgb = tinycolor(color).toRgb();
        }
        <span class="hljs-keyword">return</span> colorDistance(<span class="hljs-keyword">this</span>.toRgb(), rgb, relative);
    },
    <span class="hljs-attr">isCloseTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">var</span> rgb;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color === <span class="hljs-string">"object"</span> &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_r"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_g"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"_b"</span>)) {
            rgb = color.toRgb();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color === <span class="hljs-string">"object"</span> &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"r"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"g"</span>) &amp;&amp; color.hasOwnProperty(<span class="hljs-string">"b"</span>)) {
            rgb = color;
        } <span class="hljs-keyword">else</span> {
            rgb = tinycolor(color).toRgb();
        }
        <span class="hljs-keyword">return</span> colorSimilarity(<span class="hljs-keyword">this</span>.toRgb(), rgb);
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>If input is an object, force 1 into “1.0” to handle ratios properly
String input requires “1.0” as input, so 1 will be treated as 1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tinycolor.fromRatio = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color, opts</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color == <span class="hljs-string">"object"</span>) {
        <span class="hljs-keyword">var</span> newColor = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> color) {
            <span class="hljs-keyword">if</span> (color.hasOwnProperty(i)) {
                <span class="hljs-keyword">if</span> (i === <span class="hljs-string">"a"</span>) {
                    newColor[i] = color[i];
                }
                <span class="hljs-keyword">else</span> {
                    newColor[i] = convertToPercentage(color[i]);
                }
            }
        }
        color = newColor;
    }

    <span class="hljs-keyword">return</span> tinycolor(color, opts);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Given a string or object, convert that input to RGB
Possible string inputs:</p>
<pre><code><span class="hljs-string">"red"</span>
<span class="hljs-string">"#f00"</span> or <span class="hljs-string">"f00"</span>
<span class="hljs-string">"#ff0000"</span> or <span class="hljs-string">"ff0000"</span>
<span class="hljs-string">"#ff000000"</span> or <span class="hljs-string">"ff000000"</span>
<span class="hljs-string">"rgb 255 0 0"</span> or <span class="hljs-string">"rgb (255, 0, 0)"</span>
<span class="hljs-string">"rgb 1.0 0 0"</span> or <span class="hljs-string">"rgb (1, 0, 0)"</span>
<span class="hljs-string">"rgba (255, 0, 0, 1)"</span> or <span class="hljs-string">"rgba 255, 0, 0, 1"</span>
<span class="hljs-string">"rgba (1.0, 0, 0, 1)"</span> or <span class="hljs-string">"rgba 1.0, 0, 0, 1"</span>
<span class="hljs-string">"hsl(0, 100%, 50%)"</span> or <span class="hljs-string">"hsl 0 100% 50%"</span>
<span class="hljs-string">"hsla(0, 100%, 50%, 1)"</span> or <span class="hljs-string">"hsla 0 100% 50%, 1"</span>
<span class="hljs-string">"hsv(0, 100%, 100%)"</span> or <span class="hljs-string">"hsv 0 100% 100%"</span></code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inputToRGB</span>(<span class="hljs-params">color</span>) </span>{

    <span class="hljs-keyword">var</span> rgb = { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span> };
    <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> s = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> v = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> l = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> ok = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> format = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color == <span class="hljs-string">"string"</span>) {
        color = stringInputToObject(color);
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color == <span class="hljs-string">"object"</span>) {
        <span class="hljs-keyword">if</span> (isValidCSSUnit(color.r) &amp;&amp; isValidCSSUnit(color.g) &amp;&amp; isValidCSSUnit(color.b)) {
            rgb = rgbToRgb(color.r, color.g, color.b);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-built_in">String</span>(color.r).substr(<span class="hljs-number">-1</span>) === <span class="hljs-string">"%"</span> ? <span class="hljs-string">"prgb"</span> : <span class="hljs-string">"rgb"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.h) &amp;&amp; isValidCSSUnit(color.s) &amp;&amp; isValidCSSUnit(color.v)) {
            s = convertToPercentage(color.s);
            v = convertToPercentage(color.v);
            rgb = hsvToRgb(color.h, s, v);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"hsv"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.h) &amp;&amp; isValidCSSUnit(color.s) &amp;&amp; isValidCSSUnit(color.l)) {
            s = convertToPercentage(color.s);
            l = convertToPercentage(color.l);
            rgb = hslToRgb(color.h, s, l);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"hsl"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.c) &amp;&amp; isValidCSSUnit(color.m) &amp;&amp; isValidCSSUnit(color.y) &amp;&amp; isValidCSSUnit(color.k)) {
            c = convertToPercentage(color.c);
            m = convertToPercentage(color.m);
            y = convertToPercentage(color.y);
            k = convertToPercentage(color.k);
            rgb = cmykToRgb(c, m, y, k);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"cmyk"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.c) &amp;&amp; isValidCSSUnit(color.m) &amp;&amp; isValidCSSUnit(color.y)) {
            c = convertToPercentage(color.c);
            m = convertToPercentage(color.m);
            y = convertToPercentage(color.y);
            rgb = cmyToRgb(c, m, y);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"cmy"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.h) &amp;&amp; isValidCSSUnit(color.w) &amp;&amp; isValidCSSUnit(color.b))
        {
            w = convertToPercentage(color.w);
            b = convertToPercentage(color.b);
            rgb = hwbToRgb(color.h, w, b);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"hwb"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidNcolHue(color.n) &amp;&amp; isValidCSSUnit(color.w) &amp;&amp; isValidCSSUnit(color.b)) {
            w = convertToPercentage(color.w);
            b = convertToPercentage(color.b);
            rgb = ncolToRgb(color.n, w, b);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"ncol"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidNcsHue(color.n) &amp;&amp; isValidCSSUnit(color.s) &amp;&amp; isValidCSSUnit(color.c)) {
            rgb = ncsToRgb(color.s, color.c, color.n);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"ncs"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.x) &amp;&amp; isValidCSSUnit(color.y) &amp;&amp; isValidCSSUnit(color.z)) {
            x = convertToPercentage(color.x);
            y = convertToPercentage(color.y);
            z = convertToPercentage(color.z);
            rgb = xyzToRgb(x, y, z);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"xyz"</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isValidCSSUnit(color.l) &amp;&amp; isValidCSSUnit(color.A) &amp;&amp; isValidCSSUnit(color.b)) {
            rgb = labToRgb(color.l, color.A, color.b);
            ok = <span class="hljs-literal">true</span>;
            format = <span class="hljs-string">"lab"</span>;
        }
        <span class="hljs-keyword">if</span> (color.hasOwnProperty(<span class="hljs-string">"a"</span>)) {
            a = color.a;
        }
    }

    a = boundAlpha(a);

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">ok</span>: ok,
        <span class="hljs-attr">format</span>: color.format || format,
        <span class="hljs-attr">r</span>: mathMin(<span class="hljs-number">255</span>, mathMax(rgb.r, <span class="hljs-number">0</span>)),
        <span class="hljs-attr">g</span>: mathMin(<span class="hljs-number">255</span>, mathMax(rgb.g, <span class="hljs-number">0</span>)),
        <span class="hljs-attr">b</span>: mathMin(<span class="hljs-number">255</span>, mathMax(rgb.b, <span class="hljs-number">0</span>)),
        <span class="hljs-attr">a</span>: a
    };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <h2 id="conversion-functions">Conversion Functions</h2>

            </div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p><code>rgbToHsl</code>, <code>rgbToHsv</code>, <code>hslToRgb</code>, <code>hsvToRgb</code> modified from:
<a href="http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript">http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript</a></p>

            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><code>rgbToRgb</code>
Handle bounds / percentage checking to conform to CSS color spec
<a href="http://www.w3.org/TR/css3-color/">http://www.w3.org/TR/css3-color/</a>
<em>Assumes:</em> r, g, b in [0, 255] or [0, 1]
<em>Returns:</em> { r, g, b } in [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToRgb</span>(<span class="hljs-params">r, g, b</span>)</span>{
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">r</span>: bound01(r, <span class="hljs-number">255</span>) * <span class="hljs-number">255</span>,
        <span class="hljs-attr">g</span>: bound01(g, <span class="hljs-number">255</span>) * <span class="hljs-number">255</span>,
        <span class="hljs-attr">b</span>: bound01(b, <span class="hljs-number">255</span>) * <span class="hljs-number">255</span>
    };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><code>rgbToHsl</code>
Converts an RGB color value to HSL.
<em>Assumes:</em> r, g, and b are contained in [0, 255] or [0, 1]
<em>Returns:</em> { h, s, l } in [0,1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToHsl</span>(<span class="hljs-params">r, g, b</span>) </span>{

    r = bound01(r, <span class="hljs-number">255</span>);
    g = bound01(g, <span class="hljs-number">255</span>);
    b = bound01(b, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">var</span> max = mathMax(r, g, b), min = mathMin(r, g, b);
    <span class="hljs-keyword">var</span> h, s, l = (max + min) / <span class="hljs-number">2</span>;

    <span class="hljs-keyword">if</span>(max == min) {
        h = s = <span class="hljs-number">0</span>; <span class="hljs-comment">// achromatic</span>
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> d = max - min;
        s = l &gt; <span class="hljs-number">0.5</span> ? d / (<span class="hljs-number">2</span> - max - min) : d / (max + min);
        <span class="hljs-keyword">switch</span>(max) {
            <span class="hljs-keyword">case</span> r: h = (g - b) / d + (g &lt; b ? <span class="hljs-number">6</span> : <span class="hljs-number">0</span>); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> g: h = (b - r) / d + <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> b: h = (r - g) / d + <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }

        h /= <span class="hljs-number">6</span>;
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: h, <span class="hljs-attr">s</span>: s, <span class="hljs-attr">l</span>: l };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><code>hslToRgb</code>
Converts an HSL color value to RGB.
<em>Assumes:</em> h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hslToRgb</span>(<span class="hljs-params">h, s, l</span>) </span>{
    <span class="hljs-keyword">var</span> r, g, b;

    h = bound01(h, <span class="hljs-number">360</span>);
    s = bound01(s, <span class="hljs-number">100</span>);
    l = bound01(l, <span class="hljs-number">100</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hue2rgb</span>(<span class="hljs-params">p, q, t</span>) </span>{
        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">0</span>) t += <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span>(t &gt; <span class="hljs-number">1</span>) t -= <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">1</span>/<span class="hljs-number">6</span>) <span class="hljs-keyword">return</span> p + (q - p) * <span class="hljs-number">6</span> * t;
        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">1</span>/<span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> q;
        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">2</span>/<span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> p + (q - p) * (<span class="hljs-number">2</span>/<span class="hljs-number">3</span> - t) * <span class="hljs-number">6</span>;
        <span class="hljs-keyword">return</span> p;
    }

    <span class="hljs-keyword">if</span>(s === <span class="hljs-number">0</span>) {
        r = g = b = l; <span class="hljs-comment">// achromatic</span>
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> q = l &lt; <span class="hljs-number">0.5</span> ? l * (<span class="hljs-number">1</span> + s) : l + s - l * s;
        <span class="hljs-keyword">var</span> p = <span class="hljs-number">2</span> * l - q;
        r = hue2rgb(p, q, h + <span class="hljs-number">1</span>/<span class="hljs-number">3</span>);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - <span class="hljs-number">1</span>/<span class="hljs-number">3</span>);
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: r * <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: g * <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: b * <span class="hljs-number">255</span> };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p><code>rgbToHsv</code>
Converts an RGB color value to HSV
<em>Assumes:</em> r, g, and b are contained in the set [0, 255] or [0, 1]
<em>Returns:</em> { h, s, v } in [0,1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToHsv</span>(<span class="hljs-params">r, g, b</span>) </span>{

    r = bound01(r, <span class="hljs-number">255</span>);
    g = bound01(g, <span class="hljs-number">255</span>);
    b = bound01(b, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">var</span> max = mathMax(r, g, b), min = mathMin(r, g, b);
    <span class="hljs-keyword">var</span> h, s, v = max;

    <span class="hljs-keyword">var</span> d = max - min;
    s = max === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : d / max;

    <span class="hljs-keyword">if</span>(max == min) {
        h = <span class="hljs-number">0</span>; <span class="hljs-comment">// achromatic</span>
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">switch</span>(max) {
            <span class="hljs-keyword">case</span> r: h = (g - b) / d + (g &lt; b ? <span class="hljs-number">6</span> : <span class="hljs-number">0</span>); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> g: h = (b - r) / d + <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> b: h = (r - g) / d + <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }
        h /= <span class="hljs-number">6</span>;
    }
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: h, <span class="hljs-attr">s</span>: s, <span class="hljs-attr">v</span>: v };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><code>hsvToRgb</code>
Converts an HSV color value to RGB.
<em>Assumes:</em> h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hsvToRgb</span>(<span class="hljs-params">h, s, v</span>) </span>{

    h = bound01(h, <span class="hljs-number">360</span>) * <span class="hljs-number">6</span>;
    s = bound01(s, <span class="hljs-number">100</span>);
    v = bound01(v, <span class="hljs-number">100</span>);

    <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">Math</span>.floor(h),
        f = h - i,
        p = v * (<span class="hljs-number">1</span> - s),
        q = v * (<span class="hljs-number">1</span> - f * s),
        t = v * (<span class="hljs-number">1</span> - (<span class="hljs-number">1</span> - f) * s),
        mod = i % <span class="hljs-number">6</span>,
        r = [v, q, p, p, t, v][mod],
        g = [t, v, v, q, p, p][mod],
        b = [p, p, t, v, v, q][mod];

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: r * <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: g * <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: b * <span class="hljs-number">255</span> };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><code>rgbToHex</code>
Converts an RGB color to hex
Assumes r, g, and b are contained in the set [0, 255]
Returns a 3 or 6 character hex</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToHex</span>(<span class="hljs-params">r, g, b, allow3Char</span>) </span>{

    <span class="hljs-keyword">var</span> hex = [
        pad2(mathRound(r).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(g).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(b).toString(<span class="hljs-number">16</span>))
    ];</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Return a 3 character hex if possible</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (allow3Char &amp;&amp; hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">1</span>) &amp;&amp; hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">1</span>) &amp;&amp; hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">1</span>)) {
        <span class="hljs-keyword">return</span> hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>) + hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">0</span>) + hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">return</span> hex.join(<span class="hljs-string">""</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><code>rgbaToHex</code>
Converts an RGBA color plus alpha transparency to hex
Assumes r, g, b are contained in the set [0, 255] and
a in [0, 1]. Returns a 4 or 8 character rgba hex</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbaToHex</span>(<span class="hljs-params">r, g, b, a, allow4Char</span>) </span>{

    <span class="hljs-keyword">var</span> hex = [
        pad2(mathRound(r).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(g).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(b).toString(<span class="hljs-number">16</span>)),
        pad2(convertDecimalToHex(a))
    ];</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Return a 4 character hex if possible</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (allow4Char &amp;&amp; hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">1</span>) &amp;&amp; hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">1</span>) &amp;&amp; hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">1</span>) &amp;&amp; hex[<span class="hljs-number">3</span>].charAt(<span class="hljs-number">0</span>) == hex[<span class="hljs-number">3</span>].charAt(<span class="hljs-number">1</span>)) {
        <span class="hljs-keyword">return</span> hex[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>) + hex[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">0</span>) + hex[<span class="hljs-number">2</span>].charAt(<span class="hljs-number">0</span>) + hex[<span class="hljs-number">3</span>].charAt(<span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">return</span> hex.join(<span class="hljs-string">""</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p><code>rgbaToArgbHex</code>
Converts an RGBA color to an ARGB Hex8 string
Rarely used, but required for “toFilter()”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbaToArgbHex</span>(<span class="hljs-params">r, g, b, a</span>) </span>{

    <span class="hljs-keyword">var</span> hex = [
        pad2(convertDecimalToHex(a)),
        pad2(mathRound(r).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(g).toString(<span class="hljs-number">16</span>)),
        pad2(mathRound(b).toString(<span class="hljs-number">16</span>))
    ];

    <span class="hljs-keyword">return</span> hex.join(<span class="hljs-string">""</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p><code>rgbToCmy</code>
Convert an RGB color to CMY
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { c, m, y, k } in [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToCmy</span>(<span class="hljs-params">r, g, b</span>) </span>{

    r = bound01(r, <span class="hljs-number">255</span>);
    g = bound01(g, <span class="hljs-number">255</span>);
    b = bound01(b, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: <span class="hljs-number">1</span> - r, <span class="hljs-attr">m</span>: <span class="hljs-number">1</span> - g, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> - b };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p><code>cmyToRgb</code>
Convert an CMY color to RGB
<em>Assumes:</em> c, m, y are contained in the set [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cmyToRgb</span>(<span class="hljs-params">c, m, y</span>) </span>{

    c = bound01(c, <span class="hljs-number">100</span>);
    m = bound01(m, <span class="hljs-number">100</span>);
    y = bound01(y, <span class="hljs-number">100</span>);

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: (<span class="hljs-number">1</span> - c) * <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: (<span class="hljs-number">1</span> - m) * <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: (<span class="hljs-number">1</span> - y) * <span class="hljs-number">255</span> };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p><code>rgbToCmyk</code>
Convert an RGB color to CMYK
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { c, m, y, k } in [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToCmyk</span>(<span class="hljs-params">r, g, b</span>) </span>{

    r = bound01(r, <span class="hljs-number">255</span>);
    g = bound01(g, <span class="hljs-number">255</span>);
    b = bound01(b, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">var</span> max = mathMax(r, g, b);
    <span class="hljs-keyword">var</span> c, m, y, k = <span class="hljs-number">1</span> - max;

    <span class="hljs-keyword">if</span>(k == <span class="hljs-number">1</span>) {
        c = <span class="hljs-number">0</span>;
        m = <span class="hljs-number">0</span>;
        y = <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">else</span> {
        c = (<span class="hljs-number">1</span> - r - k) / (<span class="hljs-number">1</span> - k);
        m = (<span class="hljs-number">1</span> - g - k) / (<span class="hljs-number">1</span> - k);
        y = (<span class="hljs-number">1</span> - b - k) / (<span class="hljs-number">1</span> - k);
    }
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: c, <span class="hljs-attr">m</span>: m, <span class="hljs-attr">y</span>: y, <span class="hljs-attr">k</span>: k };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p><code>cmykToRgb</code>
Convert an CMYK color to RGB
<em>Assumes:</em> c, m, y, k are contained in the set [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cmykToRgb</span>(<span class="hljs-params">c, m, y, k</span>) </span>{

    c = bound01(c, <span class="hljs-number">100</span>);
    m = bound01(m, <span class="hljs-number">100</span>);
    y = bound01(y, <span class="hljs-number">100</span>);
    k = bound01(k, <span class="hljs-number">100</span>);

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: (<span class="hljs-number">1</span> - c) * (<span class="hljs-number">1</span> - k) * <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: (<span class="hljs-number">1</span> - m) * (<span class="hljs-number">1</span> - k) * <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: (<span class="hljs-number">1</span> - y) * (<span class="hljs-number">1</span> - k) * <span class="hljs-number">255</span> };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p><code>rgbToHwb</code>
Convert an RGB color to HWB
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { h, w, b } in [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToHwb</span>(<span class="hljs-params">r, g, b</span>) </span>{

    r = bound01(r, <span class="hljs-number">255</span>);
    g = bound01(g, <span class="hljs-number">255</span>);
    b = bound01(b, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">var</span> max = mathMax(r, g, b), min = mathMin(r, g, b);
    <span class="hljs-keyword">var</span> h, w = min, B = <span class="hljs-number">1</span> - max;

    <span class="hljs-keyword">if</span>(max == min) {
        h = <span class="hljs-number">0</span>; <span class="hljs-comment">// achromatic</span>
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> d = max - min;
        <span class="hljs-keyword">switch</span>(max) {
            <span class="hljs-keyword">case</span> r: h = (g - b) / d + (g &lt; b ? <span class="hljs-number">6</span> : <span class="hljs-number">0</span>); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> g: h = (b - r) / d + <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> b: h = (r - g) / d + <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }
        h /= <span class="hljs-number">6</span>;
    }
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: h, <span class="hljs-attr">w</span>: w, <span class="hljs-attr">b</span>: B };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p><code>hwbToRgb</code>
Converts an HWB color value to RGB.
<em>Assumes:</em> h is contained in [0, 1] or [0, 360] and w and b are contained in [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hwbToRgb</span>(<span class="hljs-params">h, w, B</span>) </span>{

    w = bound01(w, <span class="hljs-number">100</span>);
    B = bound01(B, <span class="hljs-number">100</span>);

    <span class="hljs-keyword">var</span> v = <span class="hljs-number">1</span> - B,
        s = v === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (<span class="hljs-number">1</span> - w / v);

    <span class="hljs-keyword">return</span> hsvToRgb(h, convertToPercentage(s), convertToPercentage(v));
}</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p><code>rgbToXyz</code>
Convert an RGB color to XYZ
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { x, y, z } in [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToXyz</span>(<span class="hljs-params">r, g, b</span>) </span>{

    <span class="hljs-keyword">var</span> x, y, z,
        M = matrix.rgbxyz,
        handleRgb = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
            v = bound01(v, <span class="hljs-number">255</span>);
            <span class="hljs-keyword">return</span> (v &gt; <span class="hljs-number">0.04045</span>) ? <span class="hljs-built_in">Math</span>.pow((v + <span class="hljs-number">0.055</span>) / <span class="hljs-number">1.055</span>, <span class="hljs-number">2.4</span>) : v / <span class="hljs-number">12.92</span>;
        };

    r = handleRgb(r);
    g = handleRgb(g);
    b = handleRgb(b);

    x = (r * M.x[<span class="hljs-number">0</span>] + g * M.x[<span class="hljs-number">1</span>] + b * M.x[<span class="hljs-number">2</span>]);
    y = (r * M.y[<span class="hljs-number">0</span>] + g * M.y[<span class="hljs-number">1</span>] + b * M.y[<span class="hljs-number">2</span>]);
    z = (r * M.z[<span class="hljs-number">0</span>] + g * M.z[<span class="hljs-number">1</span>] + b * M.z[<span class="hljs-number">2</span>]);

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: x, <span class="hljs-attr">y</span>: y, <span class="hljs-attr">z</span>: z };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p><code>xyzToRgb</code>
Converts an XYZ color value to RGB.
<em>Assumes:</em> x, y and z are contained in [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xyzToRgb</span>(<span class="hljs-params">x, y, z</span>) </span>{

    x = bound01(x, <span class="hljs-number">100</span>);
    y = bound01(y, <span class="hljs-number">100</span>);
    z = bound01(z, <span class="hljs-number">100</span>);

    <span class="hljs-keyword">var</span> M = matrix.rgbxyz,
        r = x * M.r[<span class="hljs-number">0</span>] + y * M.r[<span class="hljs-number">1</span>] + z * M.r[<span class="hljs-number">2</span>],
        g = x * M.g[<span class="hljs-number">0</span>] + y * M.g[<span class="hljs-number">1</span>] + z * M.g[<span class="hljs-number">2</span>],
        b = x * M.b[<span class="hljs-number">0</span>] + y * M.b[<span class="hljs-number">1</span>] + z * M.b[<span class="hljs-number">2</span>],
        handleRgb = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
            v = v &gt; <span class="hljs-number">0.0031308</span> ? <span class="hljs-number">1.055</span> * <span class="hljs-built_in">Math</span>.pow(v, <span class="hljs-number">1</span> / <span class="hljs-number">2.4</span>) - <span class="hljs-number">0.055</span> : <span class="hljs-number">12.92</span> * v;
            <span class="hljs-keyword">return</span> v &gt; <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : v &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : v;
        };

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">r</span>: handleRgb(r) * <span class="hljs-number">255</span>,
        <span class="hljs-attr">g</span>: handleRgb(g) * <span class="hljs-number">255</span>,
        <span class="hljs-attr">b</span>: handleRgb(b) * <span class="hljs-number">255</span>
    };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p><code>rgbToLab</code>
Convert an RGB color to LAB
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { l } in [0, 100] and { a, b } in [-110, 110]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToLab</span>(<span class="hljs-params">r, g, b</span>) </span>{

    <span class="hljs-keyword">var</span> M = matrix.rgbxyz,
        handleXyz = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v, arr</span>) </span>{
            v = v / arr.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p, c</span>) </span>{ <span class="hljs-keyword">return</span> p + c; }, <span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> (v &gt; <span class="hljs-number">0.008856</span>) ? <span class="hljs-built_in">Math</span>.pow(v, <span class="hljs-number">1</span> / <span class="hljs-number">3</span>) : v * <span class="hljs-number">7.787037</span> + <span class="hljs-number">16</span> / <span class="hljs-number">116</span>;
        },
        xyz = rgbToXyz(r, g, b),
        x = handleXyz(xyz.x, M.x),
        y = handleXyz(xyz.y, M.y),
        z = handleXyz(xyz.z, M.z);

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">l</span>: y * <span class="hljs-number">116</span> - <span class="hljs-number">16</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">500</span> * (x - y), <span class="hljs-attr">b</span>: <span class="hljs-number">200</span> * (y - z) };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p><code>labToRgb</code>
Converts an LAB color value to RGB.
<em>Assumes:</em> l is contained in [0, 100], a and b are contained in [-110, 110]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">labToRgb</span>(<span class="hljs-params">l, a, b</span>) </span>{

    l = <span class="hljs-built_in">parseFloat</span>(l);
    a = <span class="hljs-built_in">parseFloat</span>(a);
    b = <span class="hljs-built_in">parseFloat</span>(b);

    <span class="hljs-keyword">var</span> M = matrix.rgbxyz,
        y = (l + <span class="hljs-number">16</span>) / <span class="hljs-number">116</span>,
        x = a / <span class="hljs-number">500</span> + y,
        z = y - b / <span class="hljs-number">200</span>,
        handleXyz = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v, arr</span>) </span>{
            <span class="hljs-keyword">return</span> (<span class="hljs-built_in">Math</span>.pow(v, <span class="hljs-number">3</span>) &gt; <span class="hljs-number">0.008856</span> ? <span class="hljs-built_in">Math</span>.pow(v, <span class="hljs-number">3</span>) : (v - <span class="hljs-number">16</span> / <span class="hljs-number">116</span>) / <span class="hljs-number">7.787037</span>) * arr.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p, c</span>) </span>{ <span class="hljs-keyword">return</span> p + c; }, <span class="hljs-number">0</span>);
        };

    <span class="hljs-keyword">return</span> xyzToRgb(handleXyz(x, M.x) * <span class="hljs-number">100</span>, handleXyz(y, M.y) * <span class="hljs-number">100</span>, handleXyz(z, M.z) * <span class="hljs-number">100</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p><code>rgbToNcol</code>
Convert an RGB color to NCol (initiative from W3Schools)
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { n } in [RYGCBM][0, 99] { w, b } in [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToNcol</span>(<span class="hljs-params">r, g, b</span>) </span>{

    <span class="hljs-keyword">var</span> hwb = rgbToHwb(r, g, b),
        ncol = [<span class="hljs-string">"r"</span>, <span class="hljs-string">"y"</span>, <span class="hljs-string">"g"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"m"</span>];
    <span class="hljs-keyword">var</span> h = mathRound(hwb.h * <span class="hljs-number">600</span>),
        w = hwb.w,
        B = hwb.b,
        R = h % <span class="hljs-number">100</span>,
        n = ncol[(h - R) / <span class="hljs-number">100</span>] + R;

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">n</span>: n.toUpperCase(), <span class="hljs-attr">w</span>: w, <span class="hljs-attr">b</span>: B };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p><code>ncolToRgb</code>
Converts an NCol color value to RGB.
<em>Assumes:</em> n is contained in [RYGCBM][0, 99] and w and b are contained in [0, 1] or [0, 100]
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ncolToRgb</span>(<span class="hljs-params">n, w, B</span>) </span>{

    n = n.toLowerCase();

    <span class="hljs-keyword">var</span> h = (([<span class="hljs-string">"r"</span>, <span class="hljs-string">"y"</span>, <span class="hljs-string">"g"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"m"</span>].indexOf(n[<span class="hljs-number">0</span>]) * <span class="hljs-number">100</span> + <span class="hljs-built_in">parseFloat</span>(n.slice(<span class="hljs-number">1</span>))) * <span class="hljs-number">0.6</span>) % <span class="hljs-number">360</span>;

    <span class="hljs-keyword">return</span> hwbToRgb(h, w, B);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Natural Color System.</p>

            </div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Thanks to w3color.js for some of the basics here.
<a href="https://www.w3schools.com/lib/w3color.js">https://www.w3schools.com/lib/w3color.js</a></p>

            </div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p><em>CAUTION:</em>       NCS has no offical conversion formula at this moment.
                 Values returned are NOT accurate and may not even exist in the system.
                 Functions below only try to find the nearest and possible value.
                 Check the official website to learn more about NCS.
                 <a href="https://ncscolour.com/">https://ncscolour.com/</a></p>

            </div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p><code>ncsToString</code>
Format NCS string.
<em>Assumes:</em> s and c are contained in [0, 100] and n is contained in [RYGBN]([0, 99][RYGB])
<em>Returns:</em> NCS standard value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ncsToString</span>(<span class="hljs-params">s, c, n</span>) </span>{

    s = bound01(convertToPercentage(s), <span class="hljs-number">100</span>);
    c = bound01(convertToPercentage(c), <span class="hljs-number">100</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-string">"S "</span> + (<span class="hljs-string">"00"</span> + mathRound(s * <span class="hljs-number">100</span>)).slice(<span class="hljs-number">-2</span>) + (<span class="hljs-string">"00"</span> + mathRound(c * <span class="hljs-number">100</span>)).slice(<span class="hljs-number">-2</span>) + <span class="hljs-string">"-"</span> + n.toUpperCase();
}</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p><code>ncsToRgb</code>
<em>CAUTION:</em> The function below might not return expected value. For detail, please check <a href="#section-36">here</a>.
Converts an NCS color value to RGB.
<em>Assumes:</em> s and c are contained in [0, 1] or [0, 100] and n is contained in [RYGBN]([0, 99][RYGB])
<em>Returns:</em> { r, g, b } in the set [0, 255]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ncsToRgb</span>(<span class="hljs-params">s, c, n</span>) </span>{

    <span class="hljs-keyword">if</span> (tinycolor.hasOwnProperty(<span class="hljs-string">"library"</span>)) {
        <span class="hljs-keyword">var</span> code = ncsToString(s, c, n);
        <span class="hljs-keyword">if</span> (code <span class="hljs-keyword">in</span> tinycolor.library.ncs) {
            <span class="hljs-keyword">return</span> tinycolor(tinycolor.library.ncs[code]).toRgb();
        }
    }

    n = n.toLowerCase();
    s = bound01(s, <span class="hljs-number">100</span>);
    c = bound01(c, <span class="hljs-number">100</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processValue</span>(<span class="hljs-params">value, factor, black</span>) </span>{
        <span class="hljs-keyword">var</span> final = value * factor * (<span class="hljs-number">1</span> - black);
        <span class="hljs-keyword">return</span> final &gt; <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : final &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : final;
    }
    <span class="hljs-keyword">var</span> match = matchers.NCS_HUE_MATCH.exec(n).filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> v !== <span class="hljs-string">"undefined"</span>; }),
        n1 = match[<span class="hljs-number">1</span>], p = <span class="hljs-number">0</span>,
        r = <span class="hljs-number">0</span>,
        g = <span class="hljs-number">0</span>,
        b = <span class="hljs-number">0</span>,
        s1, c1 = c,
        r1, g1, b1, r2, g2, b2, f1, f2;

    <span class="hljs-keyword">if</span> (match.length &gt;= <span class="hljs-number">4</span>) {
        p = bound01(match[<span class="hljs-number">2</span>], <span class="hljs-number">100</span>);
    }

    <span class="hljs-keyword">if</span> (n1 == <span class="hljs-string">"n"</span>) {
        r = g = b = <span class="hljs-number">1</span> - s;
    } <span class="hljs-keyword">else</span> {
        s1 = <span class="hljs-number">1.05</span> * (s - <span class="hljs-number">0.05</span>);
        <span class="hljs-keyword">if</span> (n1 == <span class="hljs-string">"y"</span>) {
            r1 = p &lt;= <span class="hljs-number">0.6</span> ? <span class="hljs-number">1</span> : (<span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">1.82</span> - p) * (<span class="hljs-number">0.62</span> + p)) - <span class="hljs-number">0.22</span>);
            g1 = <span class="hljs-number">0.85</span> * (<span class="hljs-number">1</span> - p);
            b1 = p &lt;= <span class="hljs-number">0.8</span> ? <span class="hljs-number">0</span> : (<span class="hljs-number">1.04</span> - <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">1.655</span> - p) * (<span class="hljs-number">0.465</span> + p)));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1 == <span class="hljs-string">"r"</span>) {
            r1 = p &gt; <span class="hljs-number">0.8</span> ? <span class="hljs-number">0</span> : (<span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">0.82</span> - p) * (<span class="hljs-number">1.62</span> + p)) - <span class="hljs-number">0.22</span>);
            g1 = p &lt;= <span class="hljs-number">0.6</span> ? <span class="hljs-number">0</span> : (<span class="hljs-number">0.675</span> - <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">1.01</span> - p) * (<span class="hljs-number">0.51</span> + p)));
            b1 = p &gt; <span class="hljs-number">0.6</span> ? (<span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">2.2</span> - p) * (<span class="hljs-number">-0.2</span> + p)) - <span class="hljs-number">0.1</span>) : (<span class="hljs-number">1.04</span> - <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">0.655</span> - p) * (<span class="hljs-number">1.465</span> + p)));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1 == <span class="hljs-string">"b"</span>) {
            r1 = <span class="hljs-number">0</span>;
            g1 = p &gt; <span class="hljs-number">0.6</span> ? <span class="hljs-number">0.9</span> : (<span class="hljs-number">0.065</span> + <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">1.524</span> - p) * (<span class="hljs-number">0.151</span> + p)));
            b1 = p &lt;= <span class="hljs-number">0.8</span> ? (<span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">1.2</span> - p) * (<span class="hljs-number">0.8</span> + p)) - <span class="hljs-number">0.1</span>) : (<span class="hljs-number">1.22</span> - <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">3.52</span> - p) * (<span class="hljs-number">-0.7</span> + p)));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1 == <span class="hljs-string">"g"</span>) {
            r1 = <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">3.5384</span> - p) * (<span class="hljs-number">0.1384</span> + p)) - <span class="hljs-number">0.7</span>;
            g1 = p &lt;= <span class="hljs-number">0.6</span> ? <span class="hljs-number">0.9</span> : (<span class="hljs-number">0.975</span> - <span class="hljs-number">0.125</span> * p);
            b1 = p &gt; <span class="hljs-number">0.4</span> ? <span class="hljs-number">0</span> : (<span class="hljs-number">1.22</span> - <span class="hljs-built_in">Math</span>.sqrt((<span class="hljs-number">2.52</span> - p) * (<span class="hljs-number">0.3</span> + p)));
        }
        f1 = (r1 + g1 + b1) / <span class="hljs-number">3</span>;
        r2 = (f1 - r1) * (<span class="hljs-number">1</span> - c1) + r1;
        g2 = (f1 - g1) * (<span class="hljs-number">1</span> - c1) + g1;
        b2 = (f1 - b1) * (<span class="hljs-number">1</span> - c1) + b1;
        f2 = <span class="hljs-number">1</span> / ((r2 == g2 || g2 == b2 || r2 == b2) ? (r2 + g2 + b2) / <span class="hljs-number">3</span> : mathMax(r2, g2, b2));
        r = processValue(r2, f2, s1);
        g = processValue(g2, f2, s1);
        b = processValue(b2, f2, s1);
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: r * <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: g * <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: b * <span class="hljs-number">255</span> };
}</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p><code>rgbToNcs</code>
<em>CAUTION:</em> The function below might not return expected value. For detail, please check <a href="#section-36">here</a>.
<em>Assumes</em> r, g, and b are contained in the set [0, 255]
<em>Returns:</em> { s, c } in the set of [0, 100] and n in [RYGBN]([0, 99][RYGB]) or false if cannot found a valid color\</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToNcs</span>(<span class="hljs-params">r, g, b</span>) </span>{
    <span class="hljs-keyword">var</span> hwb, B = <span class="hljs-number">0</span>,
        sum = r + g + b,
        avg = sum / <span class="hljs-number">3</span>,
        max = mathMax(r, g, b),
        isMax = [],
        data = {}, result = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (r / sum &gt; <span class="hljs-number">0.5</span> || g / sum &gt; <span class="hljs-number">0.5</span> || b / sum &gt; <span class="hljs-number">0.5</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Modify color</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        r += (avg - r) / <span class="hljs-number">3</span> / (r == <span class="hljs-number">128</span> ? <span class="hljs-number">1.5</span> : <span class="hljs-built_in">Math</span>.abs(r - <span class="hljs-number">128</span>) / <span class="hljs-built_in">Math</span>.abs(r - avg)); 
        g += (avg - g) / <span class="hljs-number">3</span> / (g == <span class="hljs-number">128</span> ? <span class="hljs-number">1.5</span> : <span class="hljs-built_in">Math</span>.abs(g - <span class="hljs-number">128</span>) / <span class="hljs-built_in">Math</span>.abs(g - avg)); 
        b += (avg - b) / <span class="hljs-number">3</span> / (b == <span class="hljs-number">128</span> ? <span class="hljs-number">1.5</span> : <span class="hljs-built_in">Math</span>.abs(b - <span class="hljs-number">128</span>) / <span class="hljs-built_in">Math</span>.abs(b - avg));
        sum = r + g + b;
        avg = sum / <span class="hljs-number">3</span>;
        max = mathMax(r, g, b);
        B = <span class="hljs-number">-5</span>;
    }
    hwb = rgbToHwb(r, g, b);
    B += mathRound(hwb.b * <span class="hljs-number">100</span>);
    data = {
        <span class="hljs-attr">blackness</span>: mathMin(<span class="hljs-number">40</span>, B),
        <span class="hljs-attr">original</span>: { <span class="hljs-attr">r</span>: r, <span class="hljs-attr">g</span>: g, <span class="hljs-attr">b</span>: b},
        <span class="hljs-attr">diff</span>: sum,
        <span class="hljs-attr">avg</span>: avg
    };
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(r - max) &lt; <span class="hljs-number">6</span> || r / avg &gt; <span class="hljs-number">1</span>) isMax.push(<span class="hljs-string">"r"</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(g - max) &lt; <span class="hljs-number">6</span> || g / avg &gt; <span class="hljs-number">1</span>) isMax.push(<span class="hljs-string">"g"</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(b - max) &lt; <span class="hljs-number">6</span> || b / avg &gt; <span class="hljs-number">1</span>) isMax.push(<span class="hljs-string">"b"</span>);

    <span class="hljs-keyword">if</span> (isMax.length == <span class="hljs-number">3</span>) {
        data.start = <span class="hljs-string">"n"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"b"</span>) != <span class="hljs-number">-1</span> &amp;&amp; isMax.indexOf(<span class="hljs-string">"g"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"b"</span>;
        data.end = <span class="hljs-string">"g"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"r"</span>) != <span class="hljs-number">-1</span> &amp;&amp; isMax.indexOf(<span class="hljs-string">"g"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"g"</span>;
        data.end = <span class="hljs-string">"y"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"r"</span>) != <span class="hljs-number">-1</span> &amp;&amp; isMax.indexOf(<span class="hljs-string">"b"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"r"</span>;
        data.end = <span class="hljs-string">"b"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"b"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"r60b"</span>;
        data.end = <span class="hljs-string">"b40g"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"g"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"b50g"</span>;
        data.end = <span class="hljs-string">"g70y"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMax.indexOf(<span class="hljs-string">"r"</span>) != <span class="hljs-number">-1</span>) {
        data.start = <span class="hljs-string">"g80y"</span>;
        data.end = <span class="hljs-string">"r50b"</span>;
    }

    <span class="hljs-keyword">if</span> (tinycolor.hasOwnProperty(<span class="hljs-string">"plugins"</span>)) {
        result = tinycolor.plugins.toClosestNcs(data);
    }
    <span class="hljs-keyword">if</span> (!result) {
        result = toClosestNcs(data);
    }

    <span class="hljs-keyword">if</span> (!(result.hasOwnProperty(<span class="hljs-string">"best"</span>))) <span class="hljs-keyword">return</span> { <span class="hljs-attr">s</span>: <span class="hljs-number">90</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">n</span>: <span class="hljs-string">"n"</span>};

    <span class="hljs-keyword">return</span> result.best;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p><code>toClosestNcs</code>
<em>CAUTION:</em> The function below might not return expected value. For detail, please check <a href="#section-36">here</a>.</p>

            </div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Find the closest NCS value from given data.
<em>Returns:</em> data contains possible NCS value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toClosestNcs</span>(<span class="hljs-params">DATA</span>) </span>{
    <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(DATA)),
        n1 = data.start, n2,
        s = data.blackness - data.blackness % <span class="hljs-number">5</span>,
        maxS = s + <span class="hljs-number">10</span>, c = <span class="hljs-number">0</span>, p = <span class="hljs-number">0</span>,
        maxP = <span class="hljs-number">90</span>, maxC = <span class="hljs-number">85</span>, distance;
    <span class="hljs-keyword">if</span> (n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"n"</span>) {
        maxP = <span class="hljs-number">0</span>;
        data.end = <span class="hljs-string">"n"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"y"</span>) {
        n2 = <span class="hljs-string">"r"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"r"</span>) {
        n2 = <span class="hljs-string">"b"</span>;
        maxC = <span class="hljs-number">70</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"b"</span>) {
        n2 = <span class="hljs-string">"g"</span>;
        maxC = <span class="hljs-number">65</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"g"</span>) {
        n2 = <span class="hljs-string">"y"</span>;
        maxC = <span class="hljs-number">75</span>;
    }

    <span class="hljs-keyword">if</span> (data.hasOwnProperty(<span class="hljs-string">"end"</span>) &amp;&amp; data.end.length &gt; <span class="hljs-number">1</span> &amp;&amp; n1[<span class="hljs-number">0</span>] == data.end[<span class="hljs-number">0</span>]) {
        maxP = <span class="hljs-built_in">parseInt</span>(data.end.slice(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>), <span class="hljs-number">10</span>);
    }

    <span class="hljs-keyword">if</span> (maxS &gt; <span class="hljs-number">85</span> &amp;&amp; n1[<span class="hljs-number">0</span>] != <span class="hljs-string">"n"</span>) maxS = <span class="hljs-number">85</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (maxS &gt; <span class="hljs-number">90</span> &amp;&amp; n1[<span class="hljs-number">0</span>] == <span class="hljs-string">"n"</span>) maxS = <span class="hljs-number">90</span>;
    <span class="hljs-keyword">if</span> (maxP &gt; <span class="hljs-number">90</span>) maxP = <span class="hljs-number">90</span>;

    <span class="hljs-keyword">while</span> (s &lt;= maxS) {
        c = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (c &lt;= maxC) {
            p = n1.length &gt; <span class="hljs-number">1</span> ? <span class="hljs-built_in">parseInt</span>(n1.slice(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>), <span class="hljs-number">10</span>) : <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (p &lt;= maxP) {
                tempN = n1[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (tempN != <span class="hljs-string">"n"</span>) tempN += (<span class="hljs-string">"00"</span> + p).slice(<span class="hljs-number">-2</span>) + n2;
                <span class="hljs-keyword">var</span> color = ncsToRgb(s, c, tempN);
                distance = colorDistance(data.original, color);
                <span class="hljs-keyword">if</span> (distance &lt; data.diff &amp;&amp; colorSimilarity(data.original, color)) {
                    data.best = {
                        <span class="hljs-attr">s</span>: s,
                        <span class="hljs-attr">c</span>: c,
                        <span class="hljs-attr">n</span>: tempN
                    };
                    data.diff = distance;
                }
                p += <span class="hljs-number">10</span>;
            }
            c += <span class="hljs-number">5</span>;
        }
        s += <span class="hljs-number">5</span>;
    }
    <span class="hljs-keyword">if</span> (data.start[<span class="hljs-number">0</span>] != <span class="hljs-string">"n"</span> &amp;&amp; data.hasOwnProperty(<span class="hljs-string">"end"</span>) &amp;&amp; data.start[<span class="hljs-number">0</span>] != data.end[<span class="hljs-number">0</span>]) {
        data.start = n2;
        <span class="hljs-keyword">return</span> toClosestNcs(data);
    }
    <span class="hljs-keyword">return</span> data;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p><code>colorDistance</code>
Calculate the distance between two colors
<em>Assumes:</em> color1 and color2 contain a RGB object { r: r, g: g, b: b }
<em>Returns:</em> distance</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">colorDistance</span>(<span class="hljs-params">color1, color2, relative</span>) </span>{
    <span class="hljs-keyword">var</span> ratioR = <span class="hljs-number">1</span>, ratioG = <span class="hljs-number">1</span>, ratioB = <span class="hljs-number">1</span>, meanR;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> color2 === <span class="hljs-string">"undefined"</span>) {
        color2 = { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span> };
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> relative !== <span class="hljs-string">"undefined"</span> &amp;&amp; relative) {
        meanR = (color1.r + color2.r) / <span class="hljs-number">2</span>;
        ratioR = <span class="hljs-number">2</span> + meanR / <span class="hljs-number">256</span>;
        ratioB = <span class="hljs-number">2</span> + (<span class="hljs-number">255</span> - meanR) / <span class="hljs-number">256</span>;
        ratioG = <span class="hljs-number">4</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(ratioR * <span class="hljs-built_in">Math</span>.pow(color1.r - color2.r, <span class="hljs-number">2</span>) + ratioG * <span class="hljs-built_in">Math</span>.pow(color1.g - color2.g, <span class="hljs-number">2</span>) + ratioB * <span class="hljs-built_in">Math</span>.pow(color1.b - color2.b, <span class="hljs-number">2</span>));
}</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p><code>colorSimilarity</code>
Evaluate the simialarity between two colors.
<em>Assumes:</em> color1 and color2 contain a RGB object { r: r, g: g, b: b }
<em>Returns:</em> true / false</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">colorSimilarity</span>(<span class="hljs-params">color1, color2</span>) </span>{
    <span class="hljs-keyword">var</span> distance = colorDistance(color1, color2),
        diffR = <span class="hljs-built_in">Math</span>.abs(color1.r - color2.r),
        diffG = <span class="hljs-built_in">Math</span>.abs(color1.g - color2.g),
        diffB = <span class="hljs-built_in">Math</span>.abs(color1.b - color2.b),
        smallAngle = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x1, x2, y1, y2</span>) </span>{
            <span class="hljs-keyword">return</span> (<span class="hljs-built_in">Math</span>.atan(x1 / y1) - <span class="hljs-built_in">Math</span>.atan(x2 / y2)) * <span class="hljs-number">180</span> / <span class="hljs-built_in">Math</span>.PI &lt; <span class="hljs-number">15</span>;
        },
        isSmallAngle = smallAngle(color1.r, color2.r, color1.g, color2.g) &amp;&amp;
                       smallAngle(color1.g, color2.g, color1.b, color2.b) &amp;&amp;
                       smallAngle(color1.b, color2.b, color1.r, color2.r);
    <span class="hljs-keyword">return</span> diffR / distance &lt; <span class="hljs-number">0.666</span> &amp;&amp; diffG / distance &lt; <span class="hljs-number">0.666</span> &amp;&amp; diffB / distance &lt; <span class="hljs-number">0.666</span> &amp;&amp; isSmallAngle;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p><code>equals</code>
Can be called with any tinycolor input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tinycolor.equals = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">color1, color2, format</span>) </span>{
    <span class="hljs-keyword">if</span> (!color1 || !color2) { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }
    <span class="hljs-keyword">if</span> (format) {
        <span class="hljs-keyword">return</span> tinycolor(color1).toString(format) == tinycolor(color2).toString(format);
    }
    <span class="hljs-keyword">return</span> tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();
};

tinycolor.random = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> tinycolor.fromRatio({
        <span class="hljs-attr">r</span>: mathRandom(),
        <span class="hljs-attr">g</span>: mathRandom(),
        <span class="hljs-attr">b</span>: mathRandom()
    });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <h2 id="modification-functions">Modification Functions</h2>
<p>Thanks to less.js for some of the basics here
<a href="https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js">https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">desaturate</span>(<span class="hljs-params">color, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    hsl.s -= amount / <span class="hljs-number">100</span>;
    hsl.s = clamp01(hsl.s);
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saturate</span>(<span class="hljs-params">color, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    hsl.s += amount / <span class="hljs-number">100</span>;
    hsl.s = clamp01(hsl.s);
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greyscale</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">return</span> tinycolor(color).desaturate(<span class="hljs-number">100</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lighten</span> (<span class="hljs-params">color, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    hsl.l += amount / <span class="hljs-number">100</span>;
    hsl.l = clamp01(hsl.l);
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">brighten</span>(<span class="hljs-params">color, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> rgb = tinycolor(color).toRgb();
    rgb.r = mathMax(<span class="hljs-number">0</span>, mathMin(<span class="hljs-number">255</span>, rgb.r - mathRound(<span class="hljs-number">255</span> * - (amount / <span class="hljs-number">100</span>))));
    rgb.g = mathMax(<span class="hljs-number">0</span>, mathMin(<span class="hljs-number">255</span>, rgb.g - mathRound(<span class="hljs-number">255</span> * - (amount / <span class="hljs-number">100</span>))));
    rgb.b = mathMax(<span class="hljs-number">0</span>, mathMin(<span class="hljs-number">255</span>, rgb.b - mathRound(<span class="hljs-number">255</span> * - (amount / <span class="hljs-number">100</span>))));
    <span class="hljs-keyword">return</span> tinycolor(rgb);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">darken</span> (<span class="hljs-params">color, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    hsl.l -= amount / <span class="hljs-number">100</span>;
    hsl.l = clamp01(hsl.l);
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
Values outside of this range will be wrapped into this range.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">spin</span>(<span class="hljs-params">color, amount</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> hue = (hsl.h + amount) % <span class="hljs-number">360</span>;
    hsl.h = hue &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">360</span> + hue : hue;
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <h2 id="combination-functions">Combination Functions</h2>
<p>Thanks to jQuery xColor for some of the ideas behind these
<a href="https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js">https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">complement</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    hsl.h = (hsl.h + <span class="hljs-number">180</span>) % <span class="hljs-number">360</span>;
    <span class="hljs-keyword">return</span> tinycolor(hsl);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">triad</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">120</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">240</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l })
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tetrad</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">90</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">180</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">270</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l })
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tetradRect</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">60</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">180</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">240</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l })
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pentad</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">72</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">144</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">216</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">288</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l })
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hexad</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">60</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">120</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">180</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">240</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l }),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">300</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l })
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">splitcomplement</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> h = hsl.h;
    <span class="hljs-keyword">return</span> [
        tinycolor(color),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">72</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l}),
        tinycolor({ <span class="hljs-attr">h</span>: (h + <span class="hljs-number">216</span>) % <span class="hljs-number">360</span>, <span class="hljs-attr">s</span>: hsl.s, <span class="hljs-attr">l</span>: hsl.l})
    ];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">analogous</span>(<span class="hljs-params">color, results, slices</span>) </span>{
    results = results || <span class="hljs-number">6</span>;
    slices = slices || <span class="hljs-number">30</span>;

    <span class="hljs-keyword">var</span> hsl = tinycolor(color).toHsl();
    <span class="hljs-keyword">var</span> part = <span class="hljs-number">360</span> / slices;
    <span class="hljs-keyword">var</span> ret = [tinycolor(color)];

    <span class="hljs-keyword">for</span> (hsl.h = ((hsl.h - (part * results &gt;&gt; <span class="hljs-number">1</span>)) + <span class="hljs-number">720</span>) % <span class="hljs-number">360</span>; --results; ) {
        hsl.h = (hsl.h + part) % <span class="hljs-number">360</span>;
        ret.push(tinycolor(hsl));
    }
    <span class="hljs-keyword">return</span> ret;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monochromatic</span>(<span class="hljs-params">color, results</span>) </span>{
    results = results || <span class="hljs-number">6</span>;
    <span class="hljs-keyword">var</span> hsv = tinycolor(color).toHsv();
    <span class="hljs-keyword">var</span> h = hsv.h, s = hsv.s, v = hsv.v;
    <span class="hljs-keyword">var</span> ret = [];
    <span class="hljs-keyword">var</span> modification = <span class="hljs-number">1</span> / results;

    <span class="hljs-keyword">while</span> (results--) {
        ret.push(tinycolor({ <span class="hljs-attr">h</span>: h, <span class="hljs-attr">s</span>: s, <span class="hljs-attr">v</span>: v}));
        v = (v + modification) % <span class="hljs-number">1</span>;
    }

    <span class="hljs-keyword">return</span> ret;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <h2 id="utility-functions">Utility Functions</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
tinycolor.mix = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color1, color2, amount</span>) </span>{
    amount = (amount === <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : (amount || <span class="hljs-number">50</span>);

    <span class="hljs-keyword">var</span> rgb1 = tinycolor(color1).toRgb();
    <span class="hljs-keyword">var</span> rgb2 = tinycolor(color2).toRgb();

    <span class="hljs-keyword">var</span> p = amount / <span class="hljs-number">100</span>;

    <span class="hljs-keyword">var</span> rgba = {
        <span class="hljs-attr">r</span>: ((rgb2.r - rgb1.r) * p) + rgb1.r,
        <span class="hljs-attr">g</span>: ((rgb2.g - rgb1.g) * p) + rgb1.g,
        <span class="hljs-attr">b</span>: ((rgb2.b - rgb1.b) * p) + rgb1.b,
        <span class="hljs-attr">a</span>: ((rgb2.a - rgb1.a) * p) + rgb1.a
    };

    <span class="hljs-keyword">return</span> tinycolor(rgba);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <h2 id="readability-functions">Readability Functions</h2>
<p>&lt;<a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef">http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef</a> (WCAG Version 2)</p>

            </div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p><code>contrast</code>
Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tinycolor.readability = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color1, color2</span>) </span>{
    <span class="hljs-keyword">var</span> c1 = tinycolor(color1);
    <span class="hljs-keyword">var</span> c2 = tinycolor(color2);
    <span class="hljs-keyword">return</span> (<span class="hljs-built_in">Math</span>.max(c1.getLuminance(),c2.getLuminance())+<span class="hljs-number">0.05</span>) / (<span class="hljs-built_in">Math</span>.min(c1.getLuminance(),c2.getLuminance())+<span class="hljs-number">0.05</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p><code>isReadable</code>
Ensure that foreground and background color combinations meet WCAG2 guidelines.
The third argument is an optional Object.
     the ‘level’ property states ‘AA’ or ‘AAA’ - if missing or invalid, it defaults to ‘AA’;
     the ‘size’ property states ‘large’ or ‘small’ - if missing or invalid, it defaults to ‘small’.
If the entire object is absent, isReadable defaults to {level:”AA”,size:”small”}.</p>

            </div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p><em>Example</em>
   tinycolor.isReadable(“#000”, “#111”) =&gt; false
   tinycolor.isReadable(“#000”, “#111”,{level:”AA”,size:”large”}) =&gt; false</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tinycolor.isReadable = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color1, color2, wcag2</span>) </span>{
    <span class="hljs-keyword">var</span> readability = tinycolor.readability(color1, color2);
    <span class="hljs-keyword">var</span> wcag2Parms, out;

    out = <span class="hljs-literal">false</span>;

    wcag2Parms = validateWCAG2Parms(wcag2);
    <span class="hljs-keyword">switch</span> (wcag2Parms.level + wcag2Parms.size) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"AAsmall"</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">"AAAlarge"</span>:
            out = readability &gt;= <span class="hljs-number">4.5</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"AAlarge"</span>:
            out = readability &gt;= <span class="hljs-number">3</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"AAAsmall"</span>:
            out = readability &gt;= <span class="hljs-number">7</span>;
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">return</span> out;

};</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p><code>mostReadable</code>
Given a base color and a list of possible foreground or background
colors for that base, returns the most readable color.
Optionally returns Black or White if the most readable color is unreadable.
<em>Example</em>
   tinycolor.mostReadable(tinycolor.mostReadable(“#123”, [“#124”, “#125”],{includeFallbackColors:false}).toHexString(); // “#112255”
   tinycolor.mostReadable(tinycolor.mostReadable(“#123”, [“#124”, “#125”],{includeFallbackColors:true}).toHexString();  // “#ffffff”
   tinycolor.mostReadable(“#a8015a”, [“#faf3f3”],{includeFallbackColors:true,level:”AAA”,size:”large”}).toHexString(); // “#faf3f3”
   tinycolor.mostReadable(“#a8015a”, [“#faf3f3”],{includeFallbackColors:true,level:”AAA”,size:”small”}).toHexString(); // “#ffffff”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tinycolor.mostReadable = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">baseColor, colorList, args</span>) </span>{
    <span class="hljs-keyword">var</span> bestColor = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> bestScore = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> readability;
    <span class="hljs-keyword">var</span> includeFallbackColors, level, size ;
    args = args || {};
    includeFallbackColors = args.includeFallbackColors ;
    level = args.level;
    size = args.size;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i= <span class="hljs-number">0</span>; i &lt; colorList.length ; i++) {
        readability = tinycolor.readability(baseColor, colorList[i]);
        <span class="hljs-keyword">if</span> (readability &gt; bestScore) {
            bestScore = readability;
            bestColor = tinycolor(colorList[i]);
        }
    }

    <span class="hljs-keyword">if</span> (tinycolor.isReadable(baseColor, bestColor, {<span class="hljs-string">"level"</span>:level,<span class="hljs-string">"size"</span>:size}) || !includeFallbackColors) {
        <span class="hljs-keyword">return</span> bestColor;
    }
    <span class="hljs-keyword">else</span> {
        args.includeFallbackColors=<span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> tinycolor.mostReadable(baseColor,[<span class="hljs-string">"#fff"</span>, <span class="hljs-string">"#000"</span>],args);
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <h2 id="big-list-of-colors">Big List of Colors</h2>
<p><a href="http://www.w3.org/TR/css3-color/#svg-color">http://www.w3.org/TR/css3-color/#svg-color</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> names = tinycolor.names = {
    <span class="hljs-attr">aliceblue</span>: <span class="hljs-string">"f0f8ff"</span>,
    <span class="hljs-attr">antiquewhite</span>: <span class="hljs-string">"faebd7"</span>,
    <span class="hljs-attr">aqua</span>: <span class="hljs-string">"0ff"</span>,
    <span class="hljs-attr">aquamarine</span>: <span class="hljs-string">"7fffd4"</span>,
    <span class="hljs-attr">azure</span>: <span class="hljs-string">"f0ffff"</span>,
    <span class="hljs-attr">beige</span>: <span class="hljs-string">"f5f5dc"</span>,
    <span class="hljs-attr">bisque</span>: <span class="hljs-string">"ffe4c4"</span>,
    <span class="hljs-attr">black</span>: <span class="hljs-string">"000"</span>,
    <span class="hljs-attr">blanchedalmond</span>: <span class="hljs-string">"ffebcd"</span>,
    <span class="hljs-attr">blue</span>: <span class="hljs-string">"00f"</span>,
    <span class="hljs-attr">blueviolet</span>: <span class="hljs-string">"8a2be2"</span>,
    <span class="hljs-attr">brown</span>: <span class="hljs-string">"a52a2a"</span>,
    <span class="hljs-attr">burlywood</span>: <span class="hljs-string">"deb887"</span>,
    <span class="hljs-attr">burntsienna</span>: <span class="hljs-string">"ea7e5d"</span>,
    <span class="hljs-attr">cadetblue</span>: <span class="hljs-string">"5f9ea0"</span>,
    <span class="hljs-attr">chartreuse</span>: <span class="hljs-string">"7fff00"</span>,
    <span class="hljs-attr">chocolate</span>: <span class="hljs-string">"d2691e"</span>,
    <span class="hljs-attr">coral</span>: <span class="hljs-string">"ff7f50"</span>,
    <span class="hljs-attr">cornflowerblue</span>: <span class="hljs-string">"6495ed"</span>,
    <span class="hljs-attr">cornsilk</span>: <span class="hljs-string">"fff8dc"</span>,
    <span class="hljs-attr">crimson</span>: <span class="hljs-string">"dc143c"</span>,
    <span class="hljs-attr">cyan</span>: <span class="hljs-string">"0ff"</span>,
    <span class="hljs-attr">darkblue</span>: <span class="hljs-string">"00008b"</span>,
    <span class="hljs-attr">darkcyan</span>: <span class="hljs-string">"008b8b"</span>,
    <span class="hljs-attr">darkgoldenrod</span>: <span class="hljs-string">"b8860b"</span>,
    <span class="hljs-attr">darkgray</span>: <span class="hljs-string">"a9a9a9"</span>,
    <span class="hljs-attr">darkgreen</span>: <span class="hljs-string">"006400"</span>,
    <span class="hljs-attr">darkgrey</span>: <span class="hljs-string">"a9a9a9"</span>,
    <span class="hljs-attr">darkkhaki</span>: <span class="hljs-string">"bdb76b"</span>,
    <span class="hljs-attr">darkmagenta</span>: <span class="hljs-string">"8b008b"</span>,
    <span class="hljs-attr">darkolivegreen</span>: <span class="hljs-string">"556b2f"</span>,
    <span class="hljs-attr">darkorange</span>: <span class="hljs-string">"ff8c00"</span>,
    <span class="hljs-attr">darkorchid</span>: <span class="hljs-string">"9932cc"</span>,
    <span class="hljs-attr">darkred</span>: <span class="hljs-string">"8b0000"</span>,
    <span class="hljs-attr">darksalmon</span>: <span class="hljs-string">"e9967a"</span>,
    <span class="hljs-attr">darkseagreen</span>: <span class="hljs-string">"8fbc8f"</span>,
    <span class="hljs-attr">darkslateblue</span>: <span class="hljs-string">"483d8b"</span>,
    <span class="hljs-attr">darkslategray</span>: <span class="hljs-string">"2f4f4f"</span>,
    <span class="hljs-attr">darkslategrey</span>: <span class="hljs-string">"2f4f4f"</span>,
    <span class="hljs-attr">darkturquoise</span>: <span class="hljs-string">"00ced1"</span>,
    <span class="hljs-attr">darkviolet</span>: <span class="hljs-string">"9400d3"</span>,
    <span class="hljs-attr">deeppink</span>: <span class="hljs-string">"ff1493"</span>,
    <span class="hljs-attr">deepskyblue</span>: <span class="hljs-string">"00bfff"</span>,
    <span class="hljs-attr">dimgray</span>: <span class="hljs-string">"696969"</span>,
    <span class="hljs-attr">dimgrey</span>: <span class="hljs-string">"696969"</span>,
    <span class="hljs-attr">dodgerblue</span>: <span class="hljs-string">"1e90ff"</span>,
    <span class="hljs-attr">firebrick</span>: <span class="hljs-string">"b22222"</span>,
    <span class="hljs-attr">floralwhite</span>: <span class="hljs-string">"fffaf0"</span>,
    <span class="hljs-attr">forestgreen</span>: <span class="hljs-string">"228b22"</span>,
    <span class="hljs-attr">fuchsia</span>: <span class="hljs-string">"f0f"</span>,
    <span class="hljs-attr">gainsboro</span>: <span class="hljs-string">"dcdcdc"</span>,
    <span class="hljs-attr">ghostwhite</span>: <span class="hljs-string">"f8f8ff"</span>,
    <span class="hljs-attr">gold</span>: <span class="hljs-string">"ffd700"</span>,
    <span class="hljs-attr">goldenrod</span>: <span class="hljs-string">"daa520"</span>,
    <span class="hljs-attr">gray</span>: <span class="hljs-string">"808080"</span>,
    <span class="hljs-attr">green</span>: <span class="hljs-string">"008000"</span>,
    <span class="hljs-attr">greenyellow</span>: <span class="hljs-string">"adff2f"</span>,
    <span class="hljs-attr">grey</span>: <span class="hljs-string">"808080"</span>,
    <span class="hljs-attr">honeydew</span>: <span class="hljs-string">"f0fff0"</span>,
    <span class="hljs-attr">hotpink</span>: <span class="hljs-string">"ff69b4"</span>,
    <span class="hljs-attr">indianred</span>: <span class="hljs-string">"cd5c5c"</span>,
    <span class="hljs-attr">indigo</span>: <span class="hljs-string">"4b0082"</span>,
    <span class="hljs-attr">ivory</span>: <span class="hljs-string">"fffff0"</span>,
    <span class="hljs-attr">khaki</span>: <span class="hljs-string">"f0e68c"</span>,
    <span class="hljs-attr">lavender</span>: <span class="hljs-string">"e6e6fa"</span>,
    <span class="hljs-attr">lavenderblush</span>: <span class="hljs-string">"fff0f5"</span>,
    <span class="hljs-attr">lawngreen</span>: <span class="hljs-string">"7cfc00"</span>,
    <span class="hljs-attr">lemonchiffon</span>: <span class="hljs-string">"fffacd"</span>,
    <span class="hljs-attr">lightblue</span>: <span class="hljs-string">"add8e6"</span>,
    <span class="hljs-attr">lightcoral</span>: <span class="hljs-string">"f08080"</span>,
    <span class="hljs-attr">lightcyan</span>: <span class="hljs-string">"e0ffff"</span>,
    <span class="hljs-attr">lightgoldenrodyellow</span>: <span class="hljs-string">"fafad2"</span>,
    <span class="hljs-attr">lightgray</span>: <span class="hljs-string">"d3d3d3"</span>,
    <span class="hljs-attr">lightgreen</span>: <span class="hljs-string">"90ee90"</span>,
    <span class="hljs-attr">lightgrey</span>: <span class="hljs-string">"d3d3d3"</span>,
    <span class="hljs-attr">lightpink</span>: <span class="hljs-string">"ffb6c1"</span>,
    <span class="hljs-attr">lightsalmon</span>: <span class="hljs-string">"ffa07a"</span>,
    <span class="hljs-attr">lightseagreen</span>: <span class="hljs-string">"20b2aa"</span>,
    <span class="hljs-attr">lightskyblue</span>: <span class="hljs-string">"87cefa"</span>,
    <span class="hljs-attr">lightslategray</span>: <span class="hljs-string">"789"</span>,
    <span class="hljs-attr">lightslategrey</span>: <span class="hljs-string">"789"</span>,
    <span class="hljs-attr">lightsteelblue</span>: <span class="hljs-string">"b0c4de"</span>,
    <span class="hljs-attr">lightyellow</span>: <span class="hljs-string">"ffffe0"</span>,
    <span class="hljs-attr">lime</span>: <span class="hljs-string">"0f0"</span>,
    <span class="hljs-attr">limegreen</span>: <span class="hljs-string">"32cd32"</span>,
    <span class="hljs-attr">linen</span>: <span class="hljs-string">"faf0e6"</span>,
    <span class="hljs-attr">magenta</span>: <span class="hljs-string">"f0f"</span>,
    <span class="hljs-attr">maroon</span>: <span class="hljs-string">"800000"</span>,
    <span class="hljs-attr">mediumaquamarine</span>: <span class="hljs-string">"66cdaa"</span>,
    <span class="hljs-attr">mediumblue</span>: <span class="hljs-string">"0000cd"</span>,
    <span class="hljs-attr">mediumorchid</span>: <span class="hljs-string">"ba55d3"</span>,
    <span class="hljs-attr">mediumpurple</span>: <span class="hljs-string">"9370db"</span>,
    <span class="hljs-attr">mediumseagreen</span>: <span class="hljs-string">"3cb371"</span>,
    <span class="hljs-attr">mediumslateblue</span>: <span class="hljs-string">"7b68ee"</span>,
    <span class="hljs-attr">mediumspringgreen</span>: <span class="hljs-string">"00fa9a"</span>,
    <span class="hljs-attr">mediumturquoise</span>: <span class="hljs-string">"48d1cc"</span>,
    <span class="hljs-attr">mediumvioletred</span>: <span class="hljs-string">"c71585"</span>,
    <span class="hljs-attr">midnightblue</span>: <span class="hljs-string">"191970"</span>,
    <span class="hljs-attr">mintcream</span>: <span class="hljs-string">"f5fffa"</span>,
    <span class="hljs-attr">mistyrose</span>: <span class="hljs-string">"ffe4e1"</span>,
    <span class="hljs-attr">moccasin</span>: <span class="hljs-string">"ffe4b5"</span>,
    <span class="hljs-attr">navajowhite</span>: <span class="hljs-string">"ffdead"</span>,
    <span class="hljs-attr">navy</span>: <span class="hljs-string">"000080"</span>,
    <span class="hljs-attr">oldlace</span>: <span class="hljs-string">"fdf5e6"</span>,
    <span class="hljs-attr">olive</span>: <span class="hljs-string">"808000"</span>,
    <span class="hljs-attr">olivedrab</span>: <span class="hljs-string">"6b8e23"</span>,
    <span class="hljs-attr">orange</span>: <span class="hljs-string">"ffa500"</span>,
    <span class="hljs-attr">orangered</span>: <span class="hljs-string">"ff4500"</span>,
    <span class="hljs-attr">orchid</span>: <span class="hljs-string">"da70d6"</span>,
    <span class="hljs-attr">palegoldenrod</span>: <span class="hljs-string">"eee8aa"</span>,
    <span class="hljs-attr">palegreen</span>: <span class="hljs-string">"98fb98"</span>,
    <span class="hljs-attr">paleturquoise</span>: <span class="hljs-string">"afeeee"</span>,
    <span class="hljs-attr">palevioletred</span>: <span class="hljs-string">"db7093"</span>,
    <span class="hljs-attr">papayawhip</span>: <span class="hljs-string">"ffefd5"</span>,
    <span class="hljs-attr">peachpuff</span>: <span class="hljs-string">"ffdab9"</span>,
    <span class="hljs-attr">peru</span>: <span class="hljs-string">"cd853f"</span>,
    <span class="hljs-attr">pink</span>: <span class="hljs-string">"ffc0cb"</span>,
    <span class="hljs-attr">plum</span>: <span class="hljs-string">"dda0dd"</span>,
    <span class="hljs-attr">powderblue</span>: <span class="hljs-string">"b0e0e6"</span>,
    <span class="hljs-attr">purple</span>: <span class="hljs-string">"800080"</span>,
    <span class="hljs-attr">rebeccapurple</span>: <span class="hljs-string">"663399"</span>,
    <span class="hljs-attr">red</span>: <span class="hljs-string">"f00"</span>,
    <span class="hljs-attr">rosybrown</span>: <span class="hljs-string">"bc8f8f"</span>,
    <span class="hljs-attr">royalblue</span>: <span class="hljs-string">"4169e1"</span>,
    <span class="hljs-attr">saddlebrown</span>: <span class="hljs-string">"8b4513"</span>,
    <span class="hljs-attr">salmon</span>: <span class="hljs-string">"fa8072"</span>,
    <span class="hljs-attr">sandybrown</span>: <span class="hljs-string">"f4a460"</span>,
    <span class="hljs-attr">seagreen</span>: <span class="hljs-string">"2e8b57"</span>,
    <span class="hljs-attr">seashell</span>: <span class="hljs-string">"fff5ee"</span>,
    <span class="hljs-attr">sienna</span>: <span class="hljs-string">"a0522d"</span>,
    <span class="hljs-attr">silver</span>: <span class="hljs-string">"c0c0c0"</span>,
    <span class="hljs-attr">skyblue</span>: <span class="hljs-string">"87ceeb"</span>,
    <span class="hljs-attr">slateblue</span>: <span class="hljs-string">"6a5acd"</span>,
    <span class="hljs-attr">slategray</span>: <span class="hljs-string">"708090"</span>,
    <span class="hljs-attr">slategrey</span>: <span class="hljs-string">"708090"</span>,
    <span class="hljs-attr">snow</span>: <span class="hljs-string">"fffafa"</span>,
    <span class="hljs-attr">springgreen</span>: <span class="hljs-string">"00ff7f"</span>,
    <span class="hljs-attr">steelblue</span>: <span class="hljs-string">"4682b4"</span>,
    <span class="hljs-attr">tan</span>: <span class="hljs-string">"d2b48c"</span>,
    <span class="hljs-attr">teal</span>: <span class="hljs-string">"008080"</span>,
    <span class="hljs-attr">thistle</span>: <span class="hljs-string">"d8bfd8"</span>,
    <span class="hljs-attr">tomato</span>: <span class="hljs-string">"ff6347"</span>,
    <span class="hljs-attr">turquoise</span>: <span class="hljs-string">"40e0d0"</span>,
    <span class="hljs-attr">violet</span>: <span class="hljs-string">"ee82ee"</span>,
    <span class="hljs-attr">wheat</span>: <span class="hljs-string">"f5deb3"</span>,
    <span class="hljs-attr">white</span>: <span class="hljs-string">"fff"</span>,
    <span class="hljs-attr">whitesmoke</span>: <span class="hljs-string">"f5f5f5"</span>,
    <span class="hljs-attr">yellow</span>: <span class="hljs-string">"ff0"</span>,
    <span class="hljs-attr">yellowgreen</span>: <span class="hljs-string">"9acd32"</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Make it easy to access colors via <code>hexNames[hex]</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> hexNames = tinycolor.hexNames = flip(names);

<span class="hljs-keyword">var</span> matrix = tinycolor.matrix = {
    <span class="hljs-attr">rgbxyz</span>: {
        <span class="hljs-attr">x</span>: [ <span class="hljs-number">0.4124564</span>,  <span class="hljs-number">0.3575761</span>,  <span class="hljs-number">0.1804375</span>],
        <span class="hljs-attr">y</span>: [ <span class="hljs-number">0.2126729</span>,  <span class="hljs-number">0.7151522</span>,  <span class="hljs-number">0.0721750</span>],
        <span class="hljs-attr">z</span>: [ <span class="hljs-number">0.0193339</span>,  <span class="hljs-number">0.1191920</span>,  <span class="hljs-number">0.9503041</span>],
        <span class="hljs-attr">r</span>: [ <span class="hljs-number">3.2404542</span>, <span class="hljs-number">-1.5371385</span>, <span class="hljs-number">-0.4985314</span>],
        <span class="hljs-attr">g</span>: [<span class="hljs-number">-0.9692660</span>,  <span class="hljs-number">1.8760108</span>,  <span class="hljs-number">0.0415560</span>],
        <span class="hljs-attr">b</span>: [ <span class="hljs-number">0.0556434</span>, <span class="hljs-number">-0.2040259</span>,  <span class="hljs-number">1.0572252</span>]
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <h2 id="utilities">Utilities</h2>

            </div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p><code>{ &#39;name1&#39;: &#39;val1&#39; }</code> becomes <code>{ &#39;val1&#39;: &#39;name1&#39; }</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flip</span>(<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">var</span> flipped = { };
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> o) {
        <span class="hljs-keyword">if</span> (o.hasOwnProperty(i)) {
            flipped[o[i]] = i;
        }
    }
    <span class="hljs-keyword">return</span> flipped;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Return a valid alpha value [0,1] with all invalid values being set to 1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">boundAlpha</span>(<span class="hljs-params">a</span>) </span>{
    a = <span class="hljs-built_in">parseFloat</span>(a);

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(a) || a &lt; <span class="hljs-number">0</span> || a &gt; <span class="hljs-number">1</span>) {
        a = <span class="hljs-number">1</span>;
    }

    <span class="hljs-keyword">return</span> a;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Take input from [0, n] and return it as [0, 1]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bound01</span>(<span class="hljs-params">n, max</span>) </span>{
    <span class="hljs-keyword">if</span> (isOnePointZero(n)) { n = <span class="hljs-string">"100%"</span>; }

    <span class="hljs-keyword">var</span> processPercent = isPercentage(n);
    n = mathMin(max, mathMax(<span class="hljs-number">0</span>, <span class="hljs-built_in">parseFloat</span>(n)));</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Automatically convert percentage into number</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (processPercent) {
        n = <span class="hljs-built_in">parseInt</span>(n * max, <span class="hljs-number">10</span>) / <span class="hljs-number">100</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>Handle floating point rounding errors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">Math</span>.abs(n - max) &lt; <span class="hljs-number">0.000001</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>Convert into [0, 1] range if it isn’t already</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">return</span> (n % max) / <span class="hljs-built_in">parseFloat</span>(max);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>Force a number between 0 and 1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clamp01</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">return</span> mathMin(<span class="hljs-number">1</span>, mathMax(<span class="hljs-number">0</span>, val));
}</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>Parse a base-16 hex value into a base-10 integer</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseIntFromHex</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(val, <span class="hljs-number">16</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
<a href="http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0">http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isOnePointZero</span>(<span class="hljs-params">n</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> n == <span class="hljs-string">"string"</span> &amp;&amp; n.indexOf(<span class="hljs-string">'.'</span>) != <span class="hljs-number">-1</span> &amp;&amp; <span class="hljs-built_in">parseFloat</span>(n) === <span class="hljs-number">1</span>;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>Check to see if string passed in is a percentage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isPercentage</span>(<span class="hljs-params">n</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> n === <span class="hljs-string">"string"</span> &amp;&amp; n.indexOf(<span class="hljs-string">'%'</span>) != <span class="hljs-number">-1</span>;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>Force a hex value to have 2 characters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pad2</span>(<span class="hljs-params">c</span>) </span>{
    <span class="hljs-keyword">return</span> c.length == <span class="hljs-number">1</span> ? <span class="hljs-string">'0'</span> + c : <span class="hljs-string">''</span> + c;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>Replace a decimal with it’s percentage value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertToPercentage</span>(<span class="hljs-params">n</span>) </span>{
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) {
        n = (n * <span class="hljs-number">100</span>) + <span class="hljs-string">"%"</span>;
    }

    <span class="hljs-keyword">return</span> n;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>Converts a decimal to a hex value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertDecimalToHex</span>(<span class="hljs-params">d</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">parseFloat</span>(d) * <span class="hljs-number">255</span>).toString(<span class="hljs-number">16</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>Converts a hex value to a decimal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertHexToDecimal</span>(<span class="hljs-params">h</span>) </span>{
    <span class="hljs-keyword">return</span> (parseIntFromHex(h) / <span class="hljs-number">255</span>);
}

<span class="hljs-keyword">var</span> matchers = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p><a href="http://www.w3.org/TR/css3-values/#integers">http://www.w3.org/TR/css3-values/#integers</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> CSS_INTEGER = <span class="hljs-string">"[-\\+]?\\d+%?"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p><a href="http://www.w3.org/TR/css3-values/#number-value">http://www.w3.org/TR/css3-values/#number-value</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> CSS_NUMBER = <span class="hljs-string">"[-\\+]?\\d*\\.\\d+%?"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>Allow positive/negative integer/number.  Don’t capture the either/or, just the entire outcome.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> CSS_UNIT = <span class="hljs-string">"(?:"</span> + CSS_NUMBER + <span class="hljs-string">")|(?:"</span> + CSS_INTEGER + <span class="hljs-string">")"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>Repeat this value for CSS value with more than 2 parameters.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> CSS_UNIT_REPEATING = <span class="hljs-string">"[,|\\s]+("</span> + CSS_UNIT + <span class="hljs-string">")"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>Actual matching.
Parentheses and commas are optional, but not required.
Whitespace can take the place of commas or opening paren</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> PERMISSIVE_MATCH3 = <span class="hljs-string">"[\\s|\\(]+("</span> + CSS_UNIT + <span class="hljs-string">")"</span> + CSS_UNIT_REPEATING.repeat(<span class="hljs-number">2</span>) + <span class="hljs-string">"\\s*\\)?"</span>;
    <span class="hljs-keyword">var</span> PERMISSIVE_MATCH4 = <span class="hljs-string">"[\\s|\\(]+("</span> + CSS_UNIT + <span class="hljs-string">")"</span> + CSS_UNIT_REPEATING.repeat(<span class="hljs-number">3</span>) + <span class="hljs-string">"\\s*\\)?"</span>;
    <span class="hljs-keyword">var</span> NCOL_HUE_MATCH = <span class="hljs-string">"\\s*[rygcbm]("</span> + CSS_UNIT + <span class="hljs-string">")?"</span>;
    <span class="hljs-keyword">var</span> NCOL_MATCH3 = <span class="hljs-string">"\\s*("</span> + NCOL_HUE_MATCH + <span class="hljs-string">")"</span> + CSS_UNIT_REPEATING.repeat(<span class="hljs-number">2</span>) + <span class="hljs-string">"\\s*"</span>;
    <span class="hljs-keyword">var</span> NCOL_MATCH4 = <span class="hljs-string">"\\s*("</span> + NCOL_HUE_MATCH + <span class="hljs-string">")"</span> + CSS_UNIT_REPEATING.repeat(<span class="hljs-number">3</span>) + <span class="hljs-string">"\\s*"</span>;
    <span class="hljs-keyword">var</span> NCS_HUE_MATCH = <span class="hljs-string">"(?:([rygb])(\\d{2})([rygb]))|(?:([rygbn]))"</span>;
    <span class="hljs-keyword">var</span> NCS_MATCH = <span class="hljs-string">"(\\d{2})(\\d{2})-("</span> + NCS_HUE_MATCH + <span class="hljs-string">")"</span>;

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">CSS_UNIT</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(CSS_UNIT),
        <span class="hljs-attr">NCOL_HUE_MATCH</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(NCOL_HUE_MATCH, <span class="hljs-string">"i"</span>),
        <span class="hljs-attr">NCS_HUE_MATCH</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(NCS_HUE_MATCH, <span class="hljs-string">"i"</span>),
        <span class="hljs-attr">rgb</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"rgb"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">rgba</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"rgba"</span> + PERMISSIVE_MATCH4),
        <span class="hljs-attr">hsl</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hsl"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">hsla</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hsla"</span> + PERMISSIVE_MATCH4),
        <span class="hljs-attr">hsv</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hsv"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">hsva</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hsva"</span> + PERMISSIVE_MATCH4),
        <span class="hljs-attr">cmyk</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"cmyk"</span> + PERMISSIVE_MATCH4),
        <span class="hljs-attr">cmy</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"cmy"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">hwb</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hwb"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">hwba</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"hwba"</span> + PERMISSIVE_MATCH4),
        <span class="hljs-attr">ncol</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(NCOL_MATCH3, <span class="hljs-string">"i"</span>),
        <span class="hljs-attr">ncola</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(NCOL_MATCH4, <span class="hljs-string">"i"</span>),
        <span class="hljs-attr">ncs</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(NCS_MATCH, <span class="hljs-string">"i"</span>),
        <span class="hljs-attr">xyz</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"xyz"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">lab</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"lab"</span> + PERMISSIVE_MATCH3),
        <span class="hljs-attr">hex3</span>: <span class="hljs-regexp">/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/</span>,
        <span class="hljs-attr">hex6</span>: <span class="hljs-regexp">/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/</span>,
        <span class="hljs-attr">hex4</span>: <span class="hljs-regexp">/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/</span>,
        <span class="hljs-attr">hex8</span>: <span class="hljs-regexp">/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/</span>
    };
})();</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p><code>isValidCSSUnit</code>
Take in a single string / number and check to see if it looks like a CSS unit
(see <code>matchers</code> above for definition).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValidCSSUnit</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">return</span> !!matchers.CSS_UNIT.exec(color);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p><code>isValidNcolHue</code>
Take in a single string / number and check to see if it looks like a NCol hue
(see <code>matchers</code> above for definition).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValidNcolHue</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">return</span> !!matchers.NCOL_HUE_MATCH.exec(color);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p><code>isValidNcsHue</code>
Take in a single string / number and check to see if it looks like a NCS hue
(see <code>matchers</code> above for definition).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValidNcsHue</span>(<span class="hljs-params">color</span>) </span>{
    <span class="hljs-keyword">return</span> !!matchers.NCS_HUE_MATCH.exec(color);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p><code>stringInputToObject</code>
Permissive string parsing.  Take in a number of formats, and output an object
based on detected format.  Returns <code>{ r, g, b }</code> or <code>{ h, s, l }</code> or <code>{ h, s, v}</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stringInputToObject</span>(<span class="hljs-params">color</span>) </span>{

    color = color.replace(trimLeft,<span class="hljs-string">''</span>).replace(trimRight, <span class="hljs-string">''</span>).toLowerCase();
    <span class="hljs-keyword">var</span> named = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (names[color]) {
        color = names[color];
        named = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (color == <span class="hljs-string">'transparent'</span>) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">format</span>: <span class="hljs-string">"name"</span> };
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>Try to match string input using regular expressions.
Keep most of the number bounding out of this function - don’t worry about [0,1] or [0,100] or [0,360]
Just return an object and let the conversion functions handle that.
This way the result will be the same whether the tinycolor is initialized with string or object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> match;
    <span class="hljs-keyword">if</span> ((match = matchers.rgb.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">g</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.rgba.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">r</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">g</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">a</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hsl.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">s</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">l</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hsla.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">s</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">l</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">a</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hsv.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">s</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">v</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hsva.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">s</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">v</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">a</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.cmyk.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">m</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">y</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">k</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.cmy.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">c</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">m</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">y</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hwb.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">w</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hwba.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">h</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">w</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">a</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hex8.exec(color))) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">r</span>: parseIntFromHex(match[<span class="hljs-number">1</span>]),
            <span class="hljs-attr">g</span>: parseIntFromHex(match[<span class="hljs-number">2</span>]),
            <span class="hljs-attr">b</span>: parseIntFromHex(match[<span class="hljs-number">3</span>]),
            <span class="hljs-attr">a</span>: convertHexToDecimal(match[<span class="hljs-number">4</span>]),
            <span class="hljs-attr">format</span>: named ? <span class="hljs-string">"name"</span> : <span class="hljs-string">"hex8"</span>
        };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hex6.exec(color))) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">r</span>: parseIntFromHex(match[<span class="hljs-number">1</span>]),
            <span class="hljs-attr">g</span>: parseIntFromHex(match[<span class="hljs-number">2</span>]),
            <span class="hljs-attr">b</span>: parseIntFromHex(match[<span class="hljs-number">3</span>]),
            <span class="hljs-attr">format</span>: named ? <span class="hljs-string">"name"</span> : <span class="hljs-string">"hex"</span>
        };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hex4.exec(color))) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">r</span>: parseIntFromHex(match[<span class="hljs-number">1</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">1</span>]),
            <span class="hljs-attr">g</span>: parseIntFromHex(match[<span class="hljs-number">2</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">2</span>]),
            <span class="hljs-attr">b</span>: parseIntFromHex(match[<span class="hljs-number">3</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">3</span>]),
            <span class="hljs-attr">a</span>: convertHexToDecimal(match[<span class="hljs-number">4</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">4</span>]),
            <span class="hljs-attr">format</span>: named ? <span class="hljs-string">"name"</span> : <span class="hljs-string">"hex8"</span>
        };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.hex3.exec(color))) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">r</span>: parseIntFromHex(match[<span class="hljs-number">1</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">1</span>]),
            <span class="hljs-attr">g</span>: parseIntFromHex(match[<span class="hljs-number">2</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">2</span>]),
            <span class="hljs-attr">b</span>: parseIntFromHex(match[<span class="hljs-number">3</span>] + <span class="hljs-string">''</span> + match[<span class="hljs-number">3</span>]),
            <span class="hljs-attr">format</span>: named ? <span class="hljs-string">"name"</span> : <span class="hljs-string">"hex"</span>
        };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.xyz.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">y</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">z</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.lab.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">l</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">A</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">3</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.ncola.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">n</span>: match[<span class="hljs-number">1</span>] + (<span class="hljs-keyword">typeof</span> match[<span class="hljs-number">2</span>] === <span class="hljs-string">"undefined"</span> ? <span class="hljs-number">0</span> : <span class="hljs-string">""</span>), <span class="hljs-attr">w</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">4</span>], <span class="hljs-attr">a</span>: match[<span class="hljs-number">5</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.ncol.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">n</span>: match[<span class="hljs-number">1</span>] + (<span class="hljs-keyword">typeof</span> match[<span class="hljs-number">2</span>] === <span class="hljs-string">"undefined"</span> ? <span class="hljs-number">0</span> : <span class="hljs-string">""</span>), <span class="hljs-attr">w</span>: match[<span class="hljs-number">3</span>], <span class="hljs-attr">b</span>: match[<span class="hljs-number">4</span>] };
    }
    <span class="hljs-keyword">if</span> ((match = matchers.ncs.exec(color))) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">s</span>: match[<span class="hljs-number">1</span>], <span class="hljs-attr">c</span>: match[<span class="hljs-number">2</span>], <span class="hljs-attr">n</span>: match[<span class="hljs-number">3</span>] };
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateWCAG2Parms</span>(<span class="hljs-params">parms</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>return valid WCAG2 parms for isReadable.
If input parms are invalid, return {“level”:”AA”, “size”:”small”}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> level, size;
    parms = parms || {<span class="hljs-string">"level"</span>:<span class="hljs-string">"AA"</span>, <span class="hljs-string">"size"</span>:<span class="hljs-string">"small"</span>};
    level = (parms.level || <span class="hljs-string">"AA"</span>).toUpperCase();
    size = (parms.size || <span class="hljs-string">"small"</span>).toLowerCase();
    <span class="hljs-keyword">if</span> (level !== <span class="hljs-string">"AA"</span> &amp;&amp; level !== <span class="hljs-string">"AAA"</span>) {
        level = <span class="hljs-string">"AA"</span>;
    }
    <span class="hljs-keyword">if</span> (size !== <span class="hljs-string">"small"</span> &amp;&amp; size !== <span class="hljs-string">"large"</span>) {
        size = <span class="hljs-string">"small"</span>;
    }
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"level"</span>:level, <span class="hljs-string">"size"</span>:size};
}</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>Node: Export function</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
    <span class="hljs-built_in">module</span>.exports = tinycolor;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>AMD/requirejs: Define the module</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd) {
    define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<span class="hljs-keyword">return</span> tinycolor;});
}</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>Browser: Expose to window</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">window</span>.tinycolor = tinycolor;
}

})(<span class="hljs-built_in">Math</span>);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
